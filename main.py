import os
import telebot
from telebot import types
import time
from datetime import datetime

TOKEN = os.environ["BOT_TOKEN"]   # <-- Ð±ÐµÑ€ÐµÐ¼Ð¾ Ð· Environment
ADMIN_ID = 572069105
bot = telebot.TeleBot(TOKEN)

# ====== Ð“Ð»Ð¾Ð±Ð°Ð»ÑŒÐ½Ñ– Ð·Ð¼Ñ–Ð½Ð½Ñ– ======
ALLOWED_USERS = set()
USER_STATE = {}
GIFT_CODES = {}
USERS_DB = {}

# ====== ÐŸÐ°ÑÑ…Ð°Ð»ÐºÐ¸ ======
EASTER_EGGS = {
    "ÑÑŽÑ€Ð¿Ñ€Ð¸Ð·": "ðŸŽ Ð©Ð¾ÑÑŒ Ñ‡ÐµÐºÐ°Ñ” Ð¿Ð¾Ð¿ÐµÑ€ÐµÐ´Ñƒ...",
    "Ð·Ð½Ð¾Ð²Ñƒ": "ðŸ” Ð¡Ñ…Ð¾Ð¶Ðµ, ÐºÐ¾Ð¼ÑƒÑÑŒ ÑÐ¿Ð¾Ð´Ð¾Ð±Ð°Ð»Ð¾ÑÑŒ ðŸ˜‰",
    "Ð³Ð°Ñ€ÑÑ‡Ðµ": "ðŸ”¥ Ð¢Ð¾Ñ‡Ð½Ð¾ Ð³Ð°Ñ€ÑÑ‡Ñ–ÑˆÐµ, Ð½Ñ–Ð¶ ÑƒÑ‡Ð¾Ñ€Ð°â€¦",
    "Ð»Ð¸ÑÐ¸Ñ‡ÐºÐ°": "ðŸ¦Š ÐÑƒ Ñ‚Ð¸ Ð¹ Ð·Ð½Ð°Ð¹ÑˆÐ»Ð° Ð¼ÐµÐ½Ðµ! Ð¥Ð¾Ñ‡ÐµÑˆ Ñ‰Ðµ Ð¾Ð´Ð½Ñƒ Ð¿Ñ–Ð´ÐºÐ°Ð·ÐºÑƒ?",
    "foxie": "Foxie Ð·Ð°Ð²Ð¶Ð´Ð¸ Ð¿Ð¾Ñ€ÑƒÑ‡. ÐÐ°Ð²Ñ–Ñ‚ÑŒ ÐºÐ¾Ð»Ð¸ Ñ‚Ð¸ Ð½Ðµ Ð³Ñ€Ð°Ñ”Ñˆ.",
    "Ð½Ñ–Ñ‡": "ÐÑ–Ñ‡ â€” Ñ†Ðµ Ð»Ð¸ÑˆÐµ Ð¿Ð¾Ñ‡Ð°Ñ‚Ð¾Ðº. ÐŸÐ¸ÑˆÐ¸ Ð½Ð°ÑÑ‚ÑƒÐ¿Ð½Ðµ ÑÐ»Ð¾Ð²Ð¾.",
    "Ð²Ð¾Ð³Ð¾Ð½ÑŒ": "ðŸ”¥ Ð£ Ñ†Ñ–Ð¹ Ð³Ñ€Ñ– Ð¼Ð¾Ð¶Ðµ Ð·Ð°Ð³Ð¾Ñ€Ñ–Ñ‚Ð¸ÑÑŒ Ð½Ðµ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ ÑÐµÑ€Ñ†Ðµ.",
    "Ð³Ñ€Ð°Ð¹": "Ð“Ñ€Ð°Ð¹ Ð½Ñ–Ð¶Ð½Ð¾. ÐÐ»Ðµ Ð´Ð¾ ÐºÑ–Ð½Ñ†Ñ.",
    "Ñ‚Ð°Ð½ÐµÑ†ÑŒ": "ÐÐ°Ð²Ñ–Ñ‚ÑŒ Ñ‚Ñ–Ð»Ð° Ð·Ð½Ð°ÑŽÑ‚ÑŒ, ÐºÐ¾Ð»Ð¸ Ñ‡Ð°Ñ Ñ€ÑƒÑ…Ð°Ñ‚Ð¸ÑÑŒ Ñ€Ð°Ð·Ð¾Ð¼.",
    "Ð¼Ð°Ñ€ÐºÐµÑ€": "ÐÐµ Ð±Ñ–Ð¹ÑÑ Ð·Ð°Ð»Ð¸ÑˆÐ¸Ñ‚Ð¸ ÑÐ»Ñ–Ð´. Ð’Ñ–Ð½ Ð·Ð¼Ð¸Ñ”Ñ‚ÑŒÑÑâ€¦ Ð°Ð±Ð¾ Ð½Ñ– ðŸ˜‰",
    "Ñ‚Ð°Ñ”Ð¼Ð½Ð¸Ñ†Ñ": "Ð¢ÑÑâ€¦ Ð·Ð±ÐµÑ€ÐµÐ¶Ð¸ Ñ—Ñ— Ð´Ð¾ ÐºÑ–Ð½Ñ†Ñ Ð³Ñ€Ð¸.",
    "Ð¿Ð¾Ð³Ð»ÑÐ´": "ÐžÐ´Ð¸Ð½ Ð¿Ð¾Ð³Ð»ÑÐ´ â€” Ñ– Ñ Ð²Ð¶Ðµ Ñ‚ÑƒÑ‚. ÐŸÑ€Ð¾Ð´Ð¾Ð²Ð¶ÑƒÐ¹â€¦",
    "Ð¼Ñ€Ñ–Ñ": "Ð¦Ðµ Ð³Ñ€Ð° â€” Ð°Ð±Ð¾ Ñ‚Ð²Ð¾Ñ Ð¼Ñ€Ñ–Ñ ÑÑ‚Ð°Ð»Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ–ÑÑ‚ÑŽ?",
}

REMINDER_TEXTS = [
    "Ð Ð¿Ð°Ð¼â€™ÑÑ‚Ð°Ñ”Ñˆ, ÑÐº Ñ†Ðµ Ð±ÑƒÐ»Ð¾ Ð²Ð¿ÐµÑ€ÑˆÐµ? ðŸ¦Š ÐœÐ¾Ð¶Ðµ, Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð¸Ð¼Ð¾? Foxie Ð²ÑÐµ Ñ‰Ðµ Ñ‚ÑƒÑ‚â€¦",
    "3 Ð¼Ñ–ÑÑÑ†Ñ– Ð±ÐµÐ· Ð¿Ñ€Ð¸Ð³Ð¾Ð´? Foxie Ñ‚Ñ€Ð¾Ñ…Ð¸ ÑÑƒÐ¼ÑƒÑ”. Ð¥Ð¾Ñ‡ÐµÑˆ Ð·Ñ–Ð³Ñ€Ð°Ñ‚Ð¸ Ð·Ð½Ð¾Ð²Ñƒ?",
    "Ð”ÐµÑÐºÑ– Ñ€ÐµÑ‡Ñ– Ð²Ð°Ñ€Ñ‚Ð¾ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÑŽÐ²Ð°Ñ‚Ð¸â€¦ Ð· Ð½Ð¾Ð²Ð¸Ð¼ Ð½Ð°ÑÑ‚Ñ€Ð¾Ñ”Ð¼. Foxie Ð½Ð° Ñ‚ÐµÐ±Ðµ Ñ‡ÐµÐºÐ°Ñ” ðŸ˜ˆ",
    "Ð Ð¼Ð¾Ð¶Ðµ, Ð²Ð¶Ðµ Ñ‡Ð°Ñ Ð´Ð»Ñ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ñ€Ñ–Ð²Ð½Ñ? Foxie Ð½Ðµ Ð·Ð°Ð±ÑƒÐ²Ð°Ñ” ÑÐ²Ð¾Ñ—Ñ… Ð»Ð¸ÑÐ¸Ñ‡Ð¾Ðº ðŸ¦Š"
]

COMMANDS_LIST = {
    "1": {
        "words": {
            "touch": "Ð¨Ð¸Ñ", "moon": "ÐŸÐ»ÐµÑ‡Ðµ", "kiss": "Ð—Ð°Ð¿â€™ÑÑÑ‚Ñ", "hot": "Ð’Ð½ÑƒÑ‚Ñ€Ñ–ÑˆÐ½Ñ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð° Ñ€ÑƒÐºÐ¸", "fire": "Ð¡Ñ‚ÐµÐ³Ð½Ð¾",
            "love": "Ð–Ð¸Ð²Ñ–Ñ‚", "yes": "Ð›Ð¸Ñ‚ÐºÐ°", "secret": "Ð¢Ð°Ð»Ñ–Ñ", "open": "Ð’Ð½ÑƒÑ‚Ñ€Ñ–ÑˆÐ½Ñ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð° ÑÑ‚ÐµÐ³Ð½Ð°", "lock": "ÐŸÑ–Ð´Ð±Ð¾Ñ€Ñ–Ð´Ð´Ñ",
            "mine": "ÐšÐ¾Ð»Ñ–Ð½Ð¾", "blind": "Ð“Ñ€ÑƒÐ´Ð¸", "claim": "ÐŸÐ°Ð»ÑŒÑ†Ñ– Ñ€ÑƒÐº", "tease": "Ð›Ñ–ÐºÑ‚ÑŒÐ¾Ð²Ð¸Ð¹ Ð·Ð³Ð¸Ð½", "wild": "Ð©Ð¾ÐºÐ°",
            "slide": "Ð¡Ñ–Ð´Ð½Ð¸Ñ†Ñ", "whisper": "Ð“Ð¾Ð¼Ñ–Ð»ÐºÐ°", "catch": "Ð¨Ð¸Ñ Ð·Ð·Ð°Ð´Ñƒ", "freeze": "Ð–Ð¸Ð²Ñ–Ñ‚ Ð·Ð½Ð¸Ð·Ñƒ", "hunt": "Ð–Ð¸Ð²Ñ–Ñ‚ Ð·Ð±Ð¾ÐºÑƒ"
        },
        "replies": {
            "touch": "ÐÐµ Ð¿Ð¸Ñ‚Ð°Ð¹ â€” Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ‚Ð¾Ñ€ÐºÐ½Ð¸ÑÑŒ. Ð¢Ð°Ð¼, Ð´Ðµ Ñ‚Ð¾Ð±Ñ– Ñ…Ð¾Ñ‡ÐµÑ‚ÑŒÑÑ.",
            "moon": "Ð¢Ð¾Ñ€ÐºÐ½Ð¸ÑÑŒ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ Ð½Ð¾ÑÐ¾Ð¼. Ð’ÐµÐ´Ð¸ Ð»Ñ–Ð½Ñ–ÑŽ Ð¿Ð¾Ð²Ñ–Ð»ÑŒÐ½Ð¾. Ð“ÑƒÐ±Ð°Ð¼ â€” Ð·Ð°Ð±Ð¾Ñ€Ð¾Ð½ÐµÐ½Ð¾.",
            "kiss": "Ð¢Ñ€Ð¸ Ð¿Ð¾Ñ†Ñ–Ð»ÑƒÐ½ÐºÐ¸. Ð¢Ð°Ð¼, Ð´Ðµ Ñ Ð½Ðµ Ñ‡ÐµÐºÐ°ÑŽ. Ð¢Ñ–Ð»ÑŒÐºÐ¸ Ð½Ðµ Ð½Ð° Ð³ÑƒÐ±Ð°Ñ….",
            "hot": "Ð—Ñ€Ð¾Ð±Ð¸ Ð³Ð°Ñ€ÑÑ‡Ñ–ÑˆÐµ. Ð¢Ð¸ Ð¼Ð°Ñ”Ñˆ Ñ‚Ñ€Ð¸ Ñ€ÑƒÑ…Ð¸ â€” Ñ– Ð¶Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÑÐ»Ð¾Ð²Ð°.",
            "fire": "Ð—Ð½Ñ–Ð¼Ð¸ Ñ‰Ð¾ÑÑŒ Ñ–Ð· Ð¼ÐµÐ½Ðµ. Ð¡ÐºÐ°Ð¶Ð¸: â€œÐœÐ¾Ñ”â€. Ð† Ð¿Ñ€Ð¸Ñ‚Ð¸ÑÐ½Ð¸ Ð¼ÐµÐ½Ðµ Ð±Ð»Ð¸Ð¶Ñ‡Ðµ.",
            "love": "Ð¢Ð¾Ñ€ÐºÐ½Ð¸ÑÑŒ Ñ‚Ð°Ðº, Ñ‰Ð¾Ð± Ð½Ð° Ð¼Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð¿Ð¸Ð»Ð¾ Ð¿Ð¾Ð´Ð¸Ñ…. ÐžÐ´Ð¸Ð½ Ð´Ð¾Ñ‚Ð¸Ðº. Ð† Ð¶Ð¾Ð´Ð½Ð¸Ñ… Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ñ–Ð².",
            "yes": "Ð—Ð°Ð¿Ð¸Ñ‚Ð°Ð¹ Ñ‚Ñ€Ð¸Ñ‡Ñ– Ð¿Ð¾ÑˆÐµÐ¿ÐºÐ¸: Â«Ð¢Ð¸ Ñ…Ð¾Ñ‡ÐµÑˆ, Ñ‰Ð¾Ð± Ñâ€¦?Â» Ð¯ÐºÑ‰Ð¾ Ñ‚Ñ€Ð¸Ñ‡Ñ– Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ”Ñˆ â€œÑ‚Ð°Ðºâ€ â€” Ñ€Ð¾Ð±Ð¸ Ñ‰Ð¾ Ñ…Ð¾Ñ‡ÐµÑˆ. ÐÐ»Ðµ Ð½Ñ–Ð¶Ð½Ð¾. ÐŸÐ¾ÐºÐ¸ Ñ‰Ð¾.",
            "secret": "ÐŸÐ¾Ñ†Ñ–Ð»ÑƒÐ¹ Ñ‚Ð°Ðº, Ñ‰Ð¾Ð± Ñ‚Ð¸ÑˆÐ° Ð·Ð½Ð¸ÐºÐ»Ð°. Ð¯ÐºÑ‰Ð¾ Ð²Ð¸Ð¹Ð´Ðµ â€” Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ”Ñˆ Ð¼Ð¾ÑŽ Ñ‚Ð°Ñ”Ð¼Ð½Ð¸Ñ†ÑŽ. ÐœÐ¾Ð¶ÐµÑˆ ÑÐ¿Ð¸Ñ‚Ð°Ñ‚Ð¸ Ð²ÑÐµ, Ñ‰Ð¾ Ñ…Ð¾Ñ‡ÐµÑˆ.",
            "open": "Ð—Ð½Ñ–Ð¼Ð¸ Ð¾Ð´Ð½Ñƒ Ñ€Ñ–Ñ‡. ÐÐ°Ð·Ð²Ð¸ Ñ†Ðµ â€œÐ²Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ñ‚ÑÐ¼â€. Ð† Ð¿Ð¾Ñ†Ñ–Ð»ÑƒÐ¹.",
            "lock": "Ð¡ÐºÐ°Ð¶Ð¸ Ñ–Ð¼â€™Ñ Ð¿Ð¾ÑˆÐµÐ¿ÐºÐ¸. ÐŸÐ¾Ñ‚Ñ–Ð¼ Ñ‚Ñ€Ð¸ Ð¿Ð¾Ñ†Ñ–Ð»ÑƒÐ½ÐºÐ¸: ÑÐº Ñƒ Ð¿ÐµÑ€ÑˆÐ¸Ð¹ Ð´ÐµÐ½ÑŒ, ÑÐº Ñƒ ÑÐ²Ð¾Ñ—Ñ… Ð¼Ñ€Ñ–ÑÑ…, ÑÐº Ñ‰Ðµ Ð½Ðµ Ð±ÑƒÐ»Ð¾. Ð¯ÐºÑ‰Ð¾ Ð²ÑÑ– Ñ‚Ñ€Ð¸ Ð¿Ñ€Ð¸Ð¹Ð½ÑÑ‚Ñ– â€” Ð·Ð°Ð¼Ð¾Ðº Ð·Ð½ÑÑ‚Ð¾. ÐŸÑ€Ð¾ÑÐ¸, Ñ‡Ð¾Ð³Ð¾ Ñ…Ð¾Ñ‡ÐµÑˆ.",
            "mine": "ÐžÐ±Ð²ÐµÐ´Ð¸ Ð¿Ð°Ð»ÑŒÑ†ÐµÐ¼. Ð† ÑÐºÐ°Ð¶Ð¸, ÑÐºÐ° Ñ‡Ð°ÑÑ‚Ð¸Ð½Ð° â€” Ñ‚Ð²Ð¾Ñ.",
            "blind": "Ð—Ð°ÐºÑ€Ð¸Ð¹ Ð¾Ñ‡Ñ–. Ð”Ð°Ð¹ Ñ€ÑƒÐºÐ°Ð¼ Â«Ð¿Ð¾Ð±Ð°Ñ‡Ð¸Ñ‚Ð¸Â».",
            "claim": "ÐžÐ±Ñ–Ð¹Ð¼Ð¸ Ð·Ð·Ð°Ð´Ñƒ. ÐŸÑ€Ð¸Ñ‚Ð¸ÑÐ½Ð¸ÑÑŒ. ÐŸÑ€Ð¾ÑˆÐµÐ¿Ð¾Ñ‡Ð¸: Â«Ð¦Ðµ Ð²ÑÐµ Ð¼Ð¾Ñ”Â». Ð† Ð·Ð°Ð»Ð¸Ñˆ Ð´Ð¾Ñ‚Ð¸Ðº, ÑÐºÐ¸Ð¹ Ñ†Ðµ Ð¿Ñ–Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ.",
            "tease": "ÐŸÑ€Ð¾Ð²ÐµÐ´Ð¸ ÑÐ·Ð¸ÐºÐ¾Ð¼ Ð¾Ð´Ð½Ñƒ Ð»Ñ–Ð½Ñ–ÑŽ. ÐŸÐ¾Ñ‚Ñ–Ð¼ Ð·ÑƒÐ¿Ð¸Ð½Ð¸ÑÑŒ â€” Ñ– ÑÐºÐ°Ð¶Ð¸, Ñ‡Ð¾Ð³Ð¾ Ð½Ð°ÑÐ¿Ñ€Ð°Ð²Ð´Ñ– Ñ…Ð¾Ñ‡ÐµÑˆ. ÐÐ»Ðµ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ Ð¾Ð´Ð½Ðµ ÑÐ»Ð¾Ð²Ð¾.",
            "wild": "Ð£ÑÐ²Ð¸, Ñ‰Ð¾ Ñ Ñ‚Ð²Ð¾Ñ Ð·Ð´Ð¾Ð±Ð¸Ñ‡. Ð£ Ñ‚ÐµÐ±Ðµ 10 ÑÐµÐºÑƒÐ½Ð´ Ð½Ð° Ð¿ÐµÑ€ÑˆÐ¸Ð¹ Ð½Ð°Ð¿Ð°Ð´. ÐœÐ°Ñ” Ð±ÑƒÑ‚Ð¸ Ñ‚Ð¸Ñ…Ð¾. ÐÐ»Ðµ Ñ…Ð¸Ð¶Ð¾. Ð¯ÐºÑ‰Ð¾ Ð¼Ð¾Ñ” Ñ‚Ñ–Ð»Ð¾ Ð½Ðµ Ð²Ñ–Ð´Ð³ÑƒÐºÐ½ÐµÑ‚ÑŒÑÑ â€” Ñ‚ÐµÐ¿ÐµÑ€ Ñ…Ð¸Ð¶Ð°ÐºÐ¾Ð¼ ÑÑ‚Ð°Ð½Ñƒ Ñ.",
            "slide": "ÐŸÐ¾Ð²Ð·Ð¸ Ð¿Ð°Ð»ÑŒÑ†ÐµÐ¼, Ð½Ñ–Ð±Ð¸ Ñ‚Ð¸ Ñ€Ð°Ð²Ð»Ð¸Ðº Ð½Ð° Ð¼Ñ–ÑÑ–Ñ—. ÐÐ»Ðµ Ð¿Ð°Ð¼â€™ÑÑ‚Ð°Ð¹: Ñ„Ñ–Ð½Ñ–Ñˆ â€” Ñ†Ðµ Ð¼Ð¾Ñ ÑƒÑÐ¼Ñ–ÑˆÐºÐ°.",
            "whisper": "ÐÐ°ÑˆÐµÐ¿Ñ‡Ð¸ Ñ‰Ð¾ÑÑŒâ€¦ Ð°Ð»Ðµ Ð½Ðµ ÑÐµÐºÑÑƒÐ°Ð»ÑŒÐ½Ðµ. Ð©Ð¾ÑÑŒ Ð¿Ñ€Ð¾ Ð±Ð¾Ñ€Ñ‰, Ð¿Ð¾Ð´Ð°Ñ‚ÐºÐ¸ Ð°Ð±Ð¾ ÑÐ°Ð½Ñ‚ÐµÑ…Ð½Ñ–ÐºÐ°. ÐŸÐ¾Ð±Ð°Ñ‡Ð¸Ð¼Ð¾, ÑÐº Ð´Ð¾Ð²Ð³Ð¾ Ñ Ð²Ð¸Ñ‚Ñ€Ð¸Ð¼Ð°ÑŽ ÑÐµÑ€Ð¹Ð¾Ð·Ð½Ð¾.",
            "catch": "Ð£ÑÐ²Ð¸, Ñ‰Ð¾ Ð½Ð° Ð¼ÐµÐ½Ñ– Ð·Ð°Ñ…Ð¾Ð²Ð°Ð½Ð° Ñ‚Ð°Ñ”Ð¼Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÐ°. Ð—Ð½Ð°Ð¹Ð´Ð¸ Ñ—Ñ—â€¦ Ð°Ð»Ðµ Ð¼Ð°Ñ”Ñˆ Ð»Ð¸ÑˆÐµ 30 ÑÐµÐºÑƒÐ½Ð´. Ð¡Ñ‚Ð°Ñ€Ñ‚!",
            "freeze": "Ð¢Ð¾Ñ€ÐºÐ½Ð¸ÑÑŒ â€” Ñ– Ñ Ð·Ð°Ð²Ð¼Ð¸Ñ€Ð°ÑŽ. Ð¢Ð²Ð¾Ñ Ñ€Ð¾Ð»ÑŒ â€” Ð¿Ñ€Ð¾Ð²Ð¾ÐºÑƒÐ²Ð°Ñ‚Ð¸. ÐœÐ¾Ñ â€” Ð½Ðµ Ñ€ÑƒÑ…Ð°Ñ‚Ð¸ÑÑŒ. Ð¯ÐºÑ‰Ð¾ Ñ Ð¿Ñ€Ð¾Ð³Ñ€Ð°ÑŽ â€” Ð¼Ð°Ñ”Ñˆ Ð¿Ñ€Ð°Ð²Ð¾ Ð½Ð° Ñ‰Ðµ Ð¾Ð´Ð½Ðµ Ñ‚Ð¾Ñ€ÐºÐ°Ð½Ð½Ñ Ð´Ðµ Ð·Ð°Ð²Ð³Ð¾Ð´Ð½Ð¾.",
            "hunt": "Ð¯ â€” Ð·Ð´Ð¾Ð±Ð¸Ñ‡. Ð¢Ð¸ â€” Ñ…Ð¸Ð¶Ð°Ðº. ÐŸÑ–Ð´ÐºÑ€Ð°Ð´Ð°Ð¹ÑÑ Ð¿Ð¾Ð²Ñ–Ð»ÑŒÐ½Ð¾, Ð¼Ð¾Ð²Ñ‡ÐºÐ¸. Ð† ÑÑ…Ð¾Ð¿Ð¸ Ñ‚Ð°Ðº, Ñ‰Ð¾Ð± Ð½Ðµ Ð²ÑÑ‚Ð¸Ð³(Ð»Ð°) Ð·Ñ€ÐµÐ°Ð³ÑƒÐ²Ð°Ñ‚Ð¸. Ð¢ÐµÐ¿ÐµÑ€ Ñ Ð² Ñ‚Ð²Ð¾Ñ—Ñ… Ð»Ð°Ð¿Ð°Ñ…."
        },
    },
    "2": {
        "words": {
            "drip": "Ð¨Ð¸Ñ", "echo": "ÐŸÐ»ÐµÑ‡Ðµ", "bite": "Ð—Ð°Ð¿â€™ÑÑÑ‚Ñ", "mark": "Ð’Ð½ÑƒÑ‚Ñ€Ñ–ÑˆÐ½Ñ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð° Ñ€ÑƒÐºÐ¸", "fold": "Ð¡Ñ‚ÐµÐ³Ð½Ð¾",
            "burn": "Ð–Ð¸Ð²Ñ–Ñ‚", "howl": "Ð›Ð¸Ñ‚ÐºÐ°", "lace": "Ð¢Ð°Ð»Ñ–Ñ", "drift": "Ð’Ð½ÑƒÑ‚Ñ€Ñ–ÑˆÐ½Ñ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð° ÑÑ‚ÐµÐ³Ð½Ð°", "trace": "ÐŸÑ–Ð´Ð±Ð¾Ñ€Ñ–Ð´Ð´Ñ",
            "murmur": "ÐšÐ¾Ð»Ñ–Ð½Ð¾", "sneak": "Ð“Ñ€ÑƒÐ´Ð¸", "melt": "ÐŸÐ°Ð»ÑŒÑ†Ñ– Ñ€ÑƒÐº", "nibble": "Ð›Ñ–ÐºÑ‚ÑŒÐ¾Ð²Ð¸Ð¹ Ð·Ð³Ð¸Ð½", "grip": "Ð©Ð¾ÐºÐ°",
            "spill": "Ð¡Ñ–Ð´Ð½Ð¸Ñ†Ñ", "sway": "Ð¡Ñ‚ÐµÐ³Ð½Ð¾", "trap": "Ð¨Ð¸Ñ", "glitch": "Ð–Ð¸Ð²Ñ–Ñ‚ Ð·Ð½Ð¸Ð·Ñƒ", "anchor": "Ð–Ð¸Ð²Ñ–Ñ‚ Ð·Ð±Ð¾ÐºÑƒ"
        },
        "replies": {
            "drip": "ÐŸÑ€Ð¾Ð²ÐµÐ´Ð¸ ÐºÑ–Ð½Ñ‡Ð¸ÐºÐ¾Ð¼ Ð¿Ð°Ð»ÑŒÑ†Ñ, Ð½Ñ–Ð±Ð¸ ÐºÐ°Ð¿Ð»Ñ Ñ‰Ð¾Ð¹Ð½Ð¾ Ð²Ð¿Ð°Ð»Ð°. ÐŸÐ¾Ð²Ñ–Ð»ÑŒÐ½Ð¾, Ð³Ð°Ñ€ÑÑ‡Ð¾ÑŽ Ð´Ð¾Ñ€Ñ–Ð¶ÐºÐ¾ÑŽ â€” Ð²Ñ–Ð´ Ð½Ð°Ð¹Ð²Ð¸Ñ‰Ð¾Ñ— Ñ‚Ð¾Ñ‡ÐºÐ¸, ÐºÑƒÐ´Ð¸ Ð·Ð¼Ð¾Ð¶ÐµÑˆ Ð´Ð¾Ñ‚ÑÐ³Ð½ÑƒÑ‚Ð¸ÑÑŒâ€¦ Ð´Ð¾ Ð½Ð°Ð¹ÑÐ¼Ñ–Ð»Ð¸Ð²Ñ–ÑˆÐ¾Ñ—. Ð Ð¿Ð¾Ñ‚Ñ–Ð¼ Ð·ÑƒÐ¿Ð¸Ð½Ð¸ÑÑŒ. Ð† Ð¿Ð¾Ð´Ð¸Ð²Ð¸ÑÑŒ Ð¼ÐµÐ½Ñ– Ð² Ð¾Ñ‡Ñ–. Ð‘ÐµÐ· ÑƒÑÐ¼Ñ–ÑˆÐºÐ¸. Ð‘ÐµÐ· ÑÐ»Ñ–Ð². ÐÐ°Ñ‡Ðµ Ñ†Ðµ â€” Ñ‚Ð²Ñ–Ð¹ Ñ€Ð¸Ñ‚ÑƒÐ°Ð».",
            "echo": "ÐŸÐ¾Ð²Ñ‚Ð¾Ñ€Ð¸ Ð¼Ñ–Ð¹ Ñ€ÑƒÑ…. Ð¢Ð¾Ñ‡Ð½Ð¾. ÐÐ»Ðµ Ð· Ð²Ð»Ð°ÑÐ½Ð¸Ð¼ Ð²Ñ–Ð´Ñ‚Ñ–Ð½ÐºÐ¾Ð¼ â€” Ð¿Ð¾Ð²Ñ–Ð»ÑŒÐ½Ñ–ÑˆÐµ, Ð½Ñ–Ð¶Ð½Ñ–ÑˆÐµ, Ð³Ð»Ð¸Ð±ÑˆÐµ. Ð—Ñ€Ð¾Ð±Ð¸ Ñ‚Ð°Ðº, Ñ‰Ð¾Ð± Ð¿Ð¾Ð²Ñ–Ñ€Ð¸Ñ‚Ð¸: Ñ‚Ð¸ Ð·Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ð²(Ð»Ð°) Ð¼ÐµÐ½Ðµ ÐºÑ€Ð°Ñ‰Ðµ, Ð½Ñ–Ð¶ Ñ ÑÐµÐ±Ðµ. ÐžÐ´Ð¸Ð½ Ð¶ÐµÑÑ‚ â€” Ñ‚Ð²Ð¾Ñ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´ÑŒ Ð½Ð° Ð¼Ñ–Ð¹.",
            "bite": "Ð—Ð°Ð»Ð¸ÑˆÐ¸ ÑÐ»Ñ–Ð´. ÐÐ»Ðµ Ð½Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ñ‚Ð°Ðº. ÐžÐ±ÐµÑ€Ð¸ Ð¼Ñ–ÑÑ†Ðµ â€” Ñ‚Ð°Ð¼, Ð´Ðµ Ð½Ð°Ð¹Ð±Ñ–Ð»ÑŒÑˆÐµ Ñ…Ð¾Ñ‡ÐµÑˆ Ð²Ð¾Ð»Ð¾Ð´Ñ–Ñ‚Ð¸. ÐžÐ´Ð¸Ð½ ÑƒÐºÑƒÑ. Ð‘ÐµÐ· Ð¶Ð°Ð»ÑŽ. Ð©Ð¾Ð± Ð¼Ð¸ Ñ‰Ðµ Ð´Ð¾Ð²Ð³Ð¾ Ð·Ð³Ð°Ð´ÑƒÐ²Ð°Ð»Ð¸ Ñ…Ñ‚Ð¾ Ñ‡Ð¸Ð¹.",
            "mark": "ÐŸÑ€Ð¾Ð²ÐµÐ´Ð¸ Ð½ÐµÐ²Ð¸Ð´Ð¸Ð¼Ñƒ Ð»Ñ–Ð½Ñ–ÑŽ. ÐŸÐ¾Ð²Ñ–Ð»ÑŒÐ½Ð¾, ÑÐ·Ð¸ÐºÐ¾Ð¼. Ð¡Ð°Ð¼Ð¾ÑÑ‚Ñ–Ð¹Ð½Ð¾ Ð¾Ð±ÐµÑ€Ð¸, Ð´Ðµ Ð¿Ð¾Ñ‡Ð°Ñ‚Ð¾Ðº â€” Ñ– Ð´Ðµ Ð²Ð¾Ð½Ð° Ð¼Ð°Ñ” Ð·Ð°ÐºÑ–Ð½Ñ‡Ð¸Ñ‚Ð¸ÑÑŒ. Ð¦Ðµ Ñ‚Ð²Ð¾Ñ Ð¼ÐµÐ¶Ð° Ð²Ð¾Ð»Ð¾Ð´Ñ–Ð½Ð½Ñ. Ð† Ñ‚Ð²Ñ–Ð¹ Ð¿Ñ–Ð´Ð¿Ð¸Ñ. Ð¢Ñ–Ð»ÑŒÐºÐ¸ Ð¾Ð´Ð¸Ð½ Ñ€ÑƒÑ… â€” Ð°Ð»Ðµ Ð½Ð°Ð·Ð°Ð²Ð¶Ð´Ð¸.",
            "fold": "Ð—Ð°Ñ‚Ð¸ÑÐ½Ð¸ Ð¼Ð¾Ñ— Ñ€ÑƒÐºÐ¸. ÐÐµ Ð¿Ð¸Ñ‚Ð°Ð¹ Ð´Ð¾Ð·Ð²Ð¾Ð»Ñƒ. Ð Ñ‚ÐµÐ¿ÐµÑ€ â€” Ð¿Ð¾Ñ†Ñ–Ð»ÑƒÐ½Ð¾Ðº, Ð¿Ð¾Ð²Ñ–Ð»ÑŒÐ½Ð¸Ð¹ Ñ– Ð²Ð¿ÐµÐ²Ð½ÐµÐ½Ð¸Ð¹. ÐÐ°Ñ‡Ðµ Ñ€Ð¾Ð·ÐºÐ»Ð°Ð´Ð°Ñ”Ñˆ Ð¼ÐµÐ½Ðµ, ÑˆÐ°Ñ€ Ð·Ð° ÑˆÐ°Ñ€Ð¾Ð¼. Ð¯ Ð¼Ð°ÑŽ Ð·Ð´Ð°Ñ‚Ð¸ÑÑŒ, Ð½Ðµ Ð²Ð¸Ñ€Ð²Ð°Ñ‚Ð¸ÑÑŒ. Ð›Ð¸ÑˆÐµ Ð³ÑƒÐ±Ð¸. Ð† Ñ‚Ð²Ð¾Ñ ÑÐ¸Ð»Ð°.",
            "burn": "Ð—Ð½Ð°Ð¹Ð´Ð¸ Ð½Ð°Ð¹Ð³Ð°Ñ€ÑÑ‡Ñ–ÑˆÑƒ Ñ‚Ð¾Ñ‡ÐºÑƒ Ð½Ð° Ð¼Ð¾Ñ”Ð¼Ñƒ Ñ‚Ñ–Ð»Ñ–. Ð† Ñ‚Ð¾Ñ€ÐºÐ½Ð¸ÑÑŒ Ñ—Ñ—, Ð½Ñ–Ð±Ð¸ Ñ†Ðµ Ð¿Ð¾Ð»ÑƒÐ¼â€™Ñ. ÐŸÐ¾Ð²Ñ–Ð»ÑŒÐ½Ð¾. Ð‘ÐµÐ· ÑÑ‚Ñ€Ð°Ñ…Ñƒ. Ð¢Ð²Ñ–Ð¹ Ð´Ð¾Ñ‚Ð¸Ðº Ð¼Ð°Ñ” Ð½Ðµ Ð¾Ð±Ð¿ÐµÐºÑ‚Ð¸ â€” Ð° Ð·Ð°Ð¿Ð°Ð»Ð¸Ñ‚Ð¸. Ð©Ð¾Ð± Ð¼Ð¸ Ð·Ð°Ð³Ð¾Ñ€Ñ–Ð»Ð¸ÑÑŒ Ñ€Ð°Ð·Ð¾Ð¼. Ð† Ð½Ðµ Ð³Ð°ÑÐ»Ð¸ Ñ‰Ðµ Ð´Ð¾Ð²Ð³Ð¾.",
            "howl": "ÐŸÑ€Ð¾ÑˆÐµÐ¿Ñ‡Ð¸ Ð¼Ð¾Ñ” Ñ–Ð¼â€™Ñ. ÐžÐ´Ð¸Ð½ Ñ€Ð°Ð·. ÐÐ»Ðµ Ñ‚Ð°Ðº, Ñ‰Ð¾Ð± Ñƒ Ð¼ÐµÐ½Ñ– Ð²ÑÐµ Ð·Ð°Ð²Ð¼ÐµÑ€Ð»Ð¾. ÐÑ–Ð±Ð¸ Ñ†Ðµ Ð¼Ð¾Ð»Ð¸Ñ‚Ð²Ð° â€” Ñ– Ñ‚Ð¸ Ð±Ð¾Ñ—ÑˆÑÑ, Ñ‰Ð¾ Ð²Ð¾Ð½Ð° Ð·Ð½Ð¸ÐºÐ½Ðµ Ð² Ð¿Ð¾Ð²Ñ–Ñ‚Ñ€Ñ–. ÐŸÑ–ÑÐ»Ñ Ñ†ÑŒÐ¾Ð³Ð¾ â€” Ð½Ñ–Ñ‡Ð¾Ð³Ð¾ Ð½Ðµ ÐºÐ°Ð¶Ð¸. Ð”Ð°Ð¹ Ð¼ÐµÐ½Ñ– Ð²Ñ–Ð´Ñ‡ÑƒÑ‚Ð¸ Ñ‚Ð¸ÑˆÑƒ.",
            "lace": "ÐŸÐµÑ€ÐµÐ¿Ð»ÐµÑ‚Ð¸ Ð½Ð°ÑˆÑ– Ñ‚Ñ–Ð»Ð° Ñ‚Ð°Ðº, Ñ‰Ð¾Ð± Ñ Ð½Ðµ Ð·Ð¼Ð¾Ð³Ð»Ð°(Ð²) Ð²Ð¸Ð¹Ñ‚Ð¸â€¦ Ñ– Ð½Ðµ Ð·Ð°Ñ…Ð¾Ñ‚Ñ–Ð»Ð°(Ð²). Ð ÑƒÐºÐ°Ð¼Ð¸. ÐÐ¾Ð³Ð°Ð¼Ð¸. ÐŸÐ¾Ð´Ð¸Ñ…Ð¾Ð¼. Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸ Ð²ÑƒÐ·Ð¾Ð» Ñ–Ð· Ð½Ð°Ñ Ð´Ð²Ð¾Ñ…. Ð©Ð¾Ð± Ð½Ð°Ð²Ñ–Ñ‚ÑŒ ÑÐ¾Ð½ Ð½Ðµ Ð½Ð°Ð²Ð°Ð¶Ð¸Ð²ÑÑ Ð½Ð°Ñ Ñ€Ð¾Ð·Ð¿Ð»ÑƒÑ‚Ð°Ñ‚Ð¸.",
            "drift": "ÐŸÑ€Ð¾Ð²ÐµÐ´Ð¸ Ð¿Ð°Ð»ÑŒÑ†ÐµÐ¼ Ð¿Ð¾ Ð¼Ð¾Ñ—Ð¹ ÑˆÐºÑ–Ñ€Ñ–, ÑÐº Ð²Ñ–Ñ‚ÐµÑ€ Ð¿ÐµÑ€ÐµÐ´ Ð³Ñ€Ð¾Ð·Ð¾ÑŽ â€” Ð»ÐµÐ´ÑŒ Ð²Ñ–Ð´Ñ‡ÑƒÑ‚Ð½Ð¾, Ð°Ð»Ðµ Ð· Ð½Ð°Ñ‚ÑÐºÐ¾Ð¼ Ð½Ð° Ð±ÑƒÑ€ÑŽ. ÐÐµ Ð·ÑƒÐ¿Ð¸Ð½ÑÐ¹ÑÑ, Ð¿Ð¾ÐºÐ¸ Ñ Ð½Ðµ Ð¿Ð¾Ð´Ð¸Ð²Ð»ÑŽÑÑŒ Ð½Ð° Ñ‚ÐµÐ±Ðµ. Ð† Ñ‚Ð¾Ð´Ñ– â€” Ð·Ð°Ð¼Ñ€Ð¸. Ð”Ð°Ð¹ Ð¼ÐµÐ½Ñ– Ð²Ð³Ð°Ð´Ð°Ñ‚Ð¸, Ñ‰Ð¾ Ð±ÑƒÐ´Ðµ Ð´Ð°Ð»Ñ–.",
            "trace": "Ð”Ð¾ÑÐ»Ñ–Ð´Ð¸ Ð¼Ð¾Ñ” Ñ‚Ñ–Ð»Ð¾, Ð½Ñ–Ð±Ð¸ Ð¼Ð°Ð¿Ñƒ Ð½ÐµÐ²Ñ–Ð´Ð¾Ð¼Ð¾Ñ— ÐºÑ€Ð°Ñ—Ð½Ð¸. Ð¨ÑƒÐºÐ°Ð¹ ÐµÑ€Ð¾Ð³ÐµÐ½Ð½Ñ– Ð·Ð¾Ð½Ð¸ Ð¿Ð¾Ð²Ñ–Ð»ÑŒÐ½Ð¾, Ð±ÐµÐ· Ð¿Ð¾ÑÐ¿Ñ–Ñ…Ñƒ â€” Ð¿Ð°Ð»ÑŒÑ†ÑÐ¼Ð¸, Ð³ÑƒÐ±Ð°Ð¼Ð¸, Ð¿Ð¾Ð´Ð¸Ñ…Ð¾Ð¼. Ð¢Ð²Ð¾Ñ” Ð·Ð°Ð²Ð´Ð°Ð½Ð½Ñ â€” Ð·Ð½Ð°Ð¹Ñ‚Ð¸ ÑˆÐ»ÑÑ… Ð´Ð¾ Ð·Ð°Ð´Ð¾Ð²Ð¾Ð»ÐµÐ½Ð½Ñ. Ð Ð¼Ð¾Ñ” â€” Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ð¸ Ð½Ð¾Ð²Ñ– Ð¼ÐµÐ¶Ñ–.",
            "murmur": "Ð£ÑÐ²Ð¸, Ñ‰Ð¾ Ð¼Ð¸ Ð½Ðµ Ð·Ð½Ð°Ð¹Ð¾Ð¼Ñ–. ÐÐ°Ñ…Ð¸Ð»Ð¸ÑÑŒ Ñ– Ð¿Ñ€Ð¾ÑˆÐµÐ¿Ñ‡Ð¸ Ð¼ÐµÐ½Ñ– Ñ‰Ð¾ÑÑŒ, Ñ‡Ð¸Ð¼ ÑÐ¿Ð¾ÐºÑƒÑˆÐ°Ð²(Ð»Ð°) Ð± Ð¼ÐµÐ½Ðµ Ð²Ð¿ÐµÑ€ÑˆÐµ. Ð¢Ñ–Ð»ÑŒÐºÐ¸ Ð¾Ð´Ð½Ðµ Ñ€ÐµÑ‡ÐµÐ½Ð½Ñ. Ð Ð¿Ð¾Ñ‚Ñ–Ð¼ â€” Ð·Ð°Ñ‚Ñ€Ð¸Ð¼Ð°Ð¹ Ð¿Ð¾Ð³Ð»ÑÐ´. Ð‘ÐµÐ· ÑƒÑÐ¼Ñ–ÑˆÐºÐ¸. Ð‘ÐµÐ· Ð¿Ð¾ÑÑÐ½ÐµÐ½ÑŒ.",
            "sneak": "Ð—Ñ€Ð¾Ð±Ð¸ Ñ‚Ðµ, Ñ‡Ð¾Ð³Ð¾ Ñ‚Ð¾Ð±Ñ– Ð½Ð°Ð¹Ð±Ñ–Ð»ÑŒÑˆÐµ Ñ…Ð¾Ñ‡ÐµÑ‚ÑŒÑÑ Ð·Ð°Ñ€Ð°Ð·. ÐÐ»Ðµ Ñ€Ð°Ð¿Ñ‚Ð¾Ð²Ð¾. Ð‘ÐµÐ· Ð¿Ð¾Ð¿ÐµÑ€ÐµÐ´Ð¶ÐµÐ½Ð½Ñ. ÐÑ–Ð±Ð¸ Ð¼Ð¸ â€” Ð³Ñ€Ð°, Ð² ÑÐºÑ–Ð¹ Ð´Ð¾Ð·Ð²Ð¾Ð»ÐµÐ½Ð¾ Ð²ÑÐµ. ÐžÐ´Ð¸Ð½ Ð¿Ð¾Ñ€Ð¸Ð² â€” Ñ– Ð½Ñ–ÑÐºÐ¸Ñ… Ð²Ð¸Ð±Ð°Ñ‡ÐµÐ½ÑŒ.",
            "melt": "ÐŸÑ€Ð¾Ð²ÐµÐ´Ð¸ ÑÐ·Ð¸ÐºÐ¾Ð¼ Ð¿Ð¾ Ð²ÑƒÑˆÐºÑƒ â€” Ð¿Ð¾Ð²Ñ–Ð»ÑŒÐ½Ð¾, Ð½Ñ–Ð±Ð¸ Ñ…Ð¾Ñ‡ÐµÑˆ Ñ€Ð¾Ð·Ñ‚Ð¾Ð¿Ð¸Ñ‚Ð¸. Ð Ð¿Ð¾Ñ‚Ñ–Ð¼ Ð¿Ñ€Ð¾ÑˆÐµÐ¿Ð¾Ñ‡Ð¸ Ð¾Ð´Ð½Ðµ Ð±Ð°Ð¶Ð°Ð½Ð½Ñ. Ð¢Ðµ, ÑÐºÐµ Ð·Ð°Ñ€Ð°Ð· Ð½ÐµÐ¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ ÑÑ‚Ñ€Ð¸Ð¼Ð°Ñ‚Ð¸. ÐÐµÑ…Ð°Ð¹ Ñ Ð²Ñ–Ð´Ñ‡ÑƒÑŽ Ð¹Ð¾Ð³Ð¾â€¦ Ñ‰Ðµ Ð´Ð¾ Ñ‚Ð¾Ð³Ð¾, ÑÐº Ð²Ð¾Ð½Ð¾ Ð·Ð´Ñ–Ð¹ÑÐ½Ð¸Ñ‚ÑŒÑÑ.",
            "nibble": "Ð£ÑÐ²Ð¸, Ñ‰Ð¾ Ñ â€” Ñ‚Ð²Ñ–Ð¹ ÑƒÐ»ÑŽÐ±Ð»ÐµÐ½Ð¸Ð¹ Ð´ÐµÑÐµÑ€Ñ‚. Ð¡ÐºÑƒÑˆÑ‚ÑƒÐ¹ Ð¿Ð¾Ð²Ñ–Ð»ÑŒÐ½Ð¾, Ð·Ð°Ñ‚Ñ€Ð¸Ð¼ÑƒÑŽÑ‡Ð¸ ÐºÐ¾Ð¶ÐµÐ½ Ð´Ð¾Ñ‚Ð¸Ðº. ÐÐµ Ð¿Ð¾ÑÐ¿Ñ–ÑˆÐ°Ð¹ â€” ÑÐ¼Ð°Ðº Ð¼Ð°Ñ” Ñ€Ð¾Ð·ÐºÑ€Ð¸Ñ‚Ð¸ÑÑ ÑÐ°Ð¼. ÐžÐ´Ð¸Ð½ ÑƒÐºÑƒÑ. Ð† Ð·Ð°Ñ‚Ð¸ÑˆÑˆÑ Ð¿Ñ–ÑÐ»Ñ Ð½ÑŒÐ¾Ð³Ð¾.",
            "grip": "Ð’Ñ–Ð·ÑŒÐ¼Ð¸ Ð¼ÐµÐ½Ðµ Ð¼Ñ–Ñ†Ð½Ð¾. Ð‘ÐµÐ· Ð¿Ð¾ÑÑÐ½ÐµÐ½ÑŒ. ÐžÐ´Ð¸Ð½ Ñ€Ð°Ð·. ÐÐ»Ðµ Ñ‚Ð°Ðº, Ñ‰Ð¾Ð± Ñƒ Ñ†ÑŒÐ¾Ð¼Ñƒ Ð´Ð¾Ñ‚Ð¸ÐºÑƒ Ð±ÑƒÐ»Ð¾ Ð²ÑÐµ â€” Ñ– Ð±Ð°Ð¶Ð°Ð½Ð½Ñ, Ñ– ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒ, Ñ– Ñ‚Ñ€Ð¾Ñ…Ð¸ Ð½ÐµÑ‚ÐµÑ€Ð¿Ð»ÑÑ‡Ð¾ÑÑ‚Ñ–.",
            "spill": "Ð¡ÐºÐ°Ð¶Ð¸ Ð¼ÐµÐ½Ñ– Ð¾Ð´Ð½Ñƒ Ñ„Ð°Ð½Ñ‚Ð°Ð·Ñ–ÑŽ. ÐÐ°Ð²Ñ–Ñ‚ÑŒ ÑÐºÑ‰Ð¾ Ð²Ð¾Ð½Ð° Ð±Ð¾Ð¶ÐµÐ²Ñ–Ð»ÑŒÐ½Ð°. Ð Ð¼Ð¾Ð¶Ðµ â€” ÑÐ°Ð¼Ðµ Ñ‚Ð¾Ð¼Ñƒ. Ð’Ð¸Ð¼Ð¾Ð² Ñ—Ñ— Ð²Ð³Ð¾Ð»Ð¾Ñ. Ð† Ð¾Ð´Ñ€Ð°Ð·Ñƒ Ð¿Ñ–ÑÐ»Ñ â€” Ð¿Ð¾Ñ†Ñ–Ð»ÑƒÐ¹, Ñ‰Ð¾Ð± Ñ Ð½Ðµ Ð²ÑÑ‚Ð¸Ð³(Ð»Ð°) Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–ÑÑ‚Ð¸. Ð›Ð¸Ñˆ Ð´Ð¸Ñ…Ð°Ð½Ð½Ñ Ñ– Ð²Ð¾Ð³Ð¾Ð½ÑŒ.",
            "sway": "ÐŸÑ€Ð¾Ð²ÐµÐ´Ð¸ Ñ€ÑƒÐºÐ¾ÑŽ Ð¿Ð¾ Ð¼Ð¾Ñ”Ð¼Ñƒ ÑÑ‚ÐµÐ³Ð½Ñƒ â€” Ð¿Ð¾Ð²Ñ–Ð»ÑŒÐ½Ð¾, ÑÐº Ñƒ Ñ‚Ð°Ð½Ñ†Ñ–, ÑÐºÐ¸Ð¹ Ð·Ð½Ð°Ñ” Ñ‚Ñ–Ð»ÑŒÐºÐ¸ Ð½Ð°ÑˆÐµ Ñ‚Ñ–Ð»Ð¾. Ð Ð¿Ð¾Ñ‚Ñ–Ð¼ Ð¿Ð¾Ñ†Ñ–Ð»ÑƒÐ¹ Ð¼ÐµÐ½Ðµâ€¦ ÑÐº Ñ‰Ðµ Ð¶Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ñƒ. Ð¡Ð¼Ñ–Ð»Ð¸Ð²Ñ–ÑˆÐµ. Ð†Ð½Ð°ÐºÑˆÐµ. ÐŸÐ¾-Ð½Ð°ÑˆÐ¾Ð¼Ñƒ.",
            "trap": "ÐŸÑ–Ð´ÐºÑ€Ð°Ð´Ð¸ÑÑ Ñ– ÑÑ…Ð¾Ð¿Ð¸ Ð¼ÐµÐ½Ðµ Ð·Ð½ÐµÐ½Ð°Ñ†ÑŒÐºÐ°. ÐžÐ±Ñ–Ð¹Ð¼Ð¸ Ñ‚Ð°Ðº, Ñ‰Ð¾Ð± Ð±ÑƒÐ»Ð¾ Ð·Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ð»Ð¾: Ñ†Ðµ Ð¿Ð°ÑÑ‚ÐºÐ°. ÐÐ»Ðµ Ð· Ñ‚Ð¸Ñ…, Ð· ÑÐºÐ¸Ñ… Ð½Ðµ Ñ…Ð¾Ñ‡ÐµÑ‚ÑŒÑÑ Ð²Ð¸Ð±Ð¸Ñ€Ð°Ñ‚Ð¸ÑÑŒ.",
            "glitch": "Ð—Ñ€Ð¾Ð±Ð¸ Ñ‰Ð¾ÑÑŒ, Ñ‡Ð¾Ð³Ð¾ Ñ Ð·Ð¾Ð²ÑÑ–Ð¼ Ð½Ðµ Ñ‡ÐµÐºÐ°ÑŽ. ÐÐ»Ðµ Ð½Ðµ Ð¿Ñ€Ð¾ ÑÐµÐºÑ. Ð—Ð°Ð¼Ñ–ÑÑ‚ÑŒ Ð´Ð¾Ñ‚Ð¸ÐºÑƒ â€” Ð¼Ð°ÑÐ°Ð¶. Ð—Ð°Ð¼Ñ–ÑÑ‚ÑŒ Ð¿Ð¾Ñ†Ñ–Ð»ÑƒÐ½ÐºÑƒ â€” ÐºÐ¾Ð²Ð´Ñ€Ð° Ð½Ð° Ð¿Ð»ÐµÑ‡Ñ–. ÐÐµÑ…Ð°Ð¹ Ð¼Ñ–Ð¹ Ñ€Ð¾Ð·ÑƒÐ¼ Ð·Ð°Ð²Ð¸ÑÐ½Ðµâ€¦ Ð° Ñ‚Ñ–Ð»Ð¾ Ð¿Ð¾Ð´ÑÐºÑƒÑ”.",
            "anchor": "Ð¢Ð¾Ñ€ÐºÐ½Ð¸ÑÑŒ Ð´Ð¾ Ð¼ÐµÐ½Ðµ Ñ‚Ð°Ðº, Ð½Ñ–Ð±Ð¸ Ñ â€” ÑÐ¿Ð¾ÐºÑ–Ð¹, ÑÐºÐ¾Ð³Ð¾ Ñ‚Ð¸ ÑˆÑƒÐºÐ°Ñ”Ñˆ. Ð—Ð°Ñ‚Ñ€Ð¸Ð¼Ð°Ð¹ Ð´Ð¾Ñ‚Ð¸Ðº. Ð† ÐºÐ¾Ð»Ð¸ Ð²Ñ–Ð´Ñ‡ÑƒÑ”Ñˆ, Ñ‰Ð¾ Ð²Ð¶Ðµ Ð²Ð´Ð¾Ð¼Ð° â€” Ð¿Ñ€Ð¾ÑˆÐµÐ¿Ð¾Ñ‡Ð¸ ÑÐ»Ð¾Ð²Ð¾. ÐžÐ´Ð½Ðµ. Ð¯ Ð¹Ð¾Ð³Ð¾ Ð·Ð°Ð¿Ð°Ð¼â€™ÑÑ‚Ð°ÑŽ.",
        }
    }
}

def get_main_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add("ðŸ”¸ Ð©Ð¾ Ñ†Ðµ Ð·Ð° Ð³Ñ€Ð°?", "ðŸ’³ ÐšÑƒÐ¿Ð¸Ñ‚Ð¸", "ðŸŽ ÐŸÐ¾Ð´Ð°Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ Ñ–Ð½ÑˆÐ¾Ð¼Ñƒ", "ðŸŸ  ÐŸÐ¾Ñ‡Ð°Ñ‚Ð¸ Ð³Ñ€Ñƒ", "ðŸ’¬ Ð—Ð°Ð¿Ð¸Ñ‚Ð°Ñ‚Ð¸ Foxie")
    return markup

def back_menu():
    return types.ReplyKeyboardMarkup(resize_keyboard=True).add("â¬…ï¸ ÐÐ°Ð·Ð°Ð´", "â¬…ï¸ Ð“Ð¾Ð»Ð¾Ð²Ð½Ðµ Ð¼ÐµÐ½ÑŽ")

def shop_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add("ðŸ§¡ ÐšÑƒÐ¿Ð¸Ñ‚Ð¸ Digital", "ðŸ”¥ ÐšÑƒÐ¿Ð¸Ñ‚Ð¸ Lite Box")
    markup.add("â¬…ï¸ ÐÐ°Ð·Ð°Ð´", "â¬…ï¸ Ð“Ð¾Ð»Ð¾Ð²Ð½Ðµ Ð¼ÐµÐ½ÑŽ")
    return markup

def gift_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add("ðŸŽ ÐŸÐ¾Ð´Ð°Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ Digital â€” 500 Ð³Ñ€Ð½", "ðŸŽ ÐŸÐ¾Ð´Ð°Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ Lite Box â€” 800 Ð³Ñ€Ð½")
    markup.add("â¬…ï¸ ÐÐ°Ð·Ð°Ð´", "â¬…ï¸ Ð“Ð¾Ð»Ð¾Ð²Ð½Ðµ Ð¼ÐµÐ½ÑŽ")
    return markup

def level_choose_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add("ðŸŸ  Ð Ñ–Ð²ÐµÐ½ÑŒ 1 (Original)", "ðŸŸ£ Ð Ñ–Ð²ÐµÐ½ÑŒ 2 (Passion)")
    markup.add("â¬…ï¸ ÐÐ°Ð·Ð°Ð´", "â¬…ï¸ Ð“Ð¾Ð»Ð¾Ð²Ð½Ðµ Ð¼ÐµÐ½ÑŽ")
    return markup

def game_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add("ðŸ§¡ Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð´Ð»Ñ Ð½Ð°Ð¿Ð¸ÑÑƒ")
    markup.add("â¬…ï¸ ÐÐ°Ð·Ð°Ð´", "â¬…ï¸ Ð“Ð¾Ð»Ð¾Ð²Ð½Ðµ Ð¼ÐµÐ½ÑŽ")
    return markup

def after_game_menu():
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add("ðŸ” ÐŸÐ¾Ñ‡Ð°Ñ‚Ð¸ Ð·Ð½Ð¾Ð²Ñƒ", "ðŸ“© ÐŸÐ¾Ð´Ñ–Ð»Ð¸Ñ‚Ð¸ÑÑ Ð· Ð´Ñ€ÑƒÐ³Ð¾Ð¼", "â¬…ï¸ Ð“Ð¾Ð»Ð¾Ð²Ð½Ðµ Ð¼ÐµÐ½ÑŽ", "ðŸš« Ð’Ñ–Ð´Ð¿Ð¸ÑÐ°Ñ‚Ð¸ÑÑŒ")
    return markup

# ========== Ð›ÐžÐ“Ð†ÐšÐ ÐšÐÐžÐŸÐžÐš ÐÐÐ—ÐÐ” ==========
def handle_back(message):
    state = USER_STATE.get(message.from_user.id, {}).get("step", "")
    if state in ["about", "shop", "gift_choice"]:
        start(message)
    elif state.startswith("playing_") or state == "choose_level":
        send_level_choose(message.from_user.id)
    elif state == "wait_gift_for":
        present_gift(message)
    else:
        start(message)

# ========== ÐžÐ¡ÐÐžÐ’ÐÐ† Ð¥Ð•ÐÐ”Ð›Ð•Ð Ð˜ ==========
@bot.message_handler(commands=["start"])
def start(message):
    user_id = message.from_user.id
    USERS_DB.setdefault(user_id, {"level1": False, "level2": False, "joined": datetime.now().isoformat()})
    bot.send_message(user_id,
        "ÐŸÑ€Ð¸Ð²Ñ–Ñ‚.\nÐ¢ÐµÐ±Ðµ Ñ‰Ð¾Ð¹Ð½Ð¾ Ð·Ð°Ð½ÐµÑÐ»Ð¾ Ð²â€¦ Ð³Ñ€Ñƒ.\n"
        "Ð¦Ðµ Foxie Code â€” Ð³Ñ€Ð°, Ð² ÑÐºÑ–Ð¹ Ð²Ð¸ Ð·Ð°Ð¿ÑƒÑÐºÐ°Ñ”Ñ‚Ðµ Ð±Ð°Ð¶Ð°Ð½Ð½Ñ Ð· Ð»Ñ–Ñ…Ñ‚Ð°Ñ€Ð¸ÐºÐ°.\n\n"
        "ÐžÐ´Ð¸Ð½ Ñ–Ð· Ð²Ð°Ñ â€” ÐºÐ¾Ð¼Ð°Ð½Ð´Ð°. Ð†Ð½ÑˆÐ¸Ð¹ â€” ÑÐ²Ñ–Ñ‚Ð»Ð¾.\nÐ¦Ðµ Ð²Ð¸ + Ð²Ð°ÑˆÐ° Ð¿Ñ€Ð¸ÑÑ‚Ñ€Ð°ÑÑ‚ÑŒ.\n\n"
        "Ð’Ð°Ð¼ Ð½Ðµ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð½Ñ–Ñ‡Ð¾Ð³Ð¾ Ð·Ð½Ð°Ñ‚Ð¸. ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð¾Ð±ÐµÑ€Ð¸, Ð· Ñ‡Ð¾Ð³Ð¾ Ð¿Ð¾Ñ‡Ð°Ñ‚Ð¸ â†“",
        reply_markup=get_main_menu())
    USER_STATE[user_id] = {"step": "main_menu"}

@bot.message_handler(func=lambda m: m.text == "â¬…ï¸ Ð“Ð¾Ð»Ð¾Ð²Ð½Ðµ Ð¼ÐµÐ½ÑŽ")
def to_main(message):
    start(message)

@bot.message_handler(func=lambda m: m.text == "â¬…ï¸ ÐÐ°Ð·Ð°Ð´")
def to_back(message):
    handle_back(message)

@bot.message_handler(func=lambda m: m.text == "ðŸ”¸ Ð©Ð¾ Ñ†Ðµ Ð·Ð° Ð³Ñ€Ð°?")
def what_is_game(message):
    bot.send_message(message.chat.id,
        "Foxie Code â€” Ñ†Ðµ Ð³Ñ€Ð° Ð´Ð»Ñ Ð¿Ð°Ñ€Ð¸.\n\n"
        "ÐÐ° Ñ‚Ñ–Ð»Ñ– Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð· Ð²Ð°Ñ â€” Ð·â€™ÑÐ²Ð»ÑÑŽÑ‚ÑŒÑÑ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸. "
        "ÐÐµÐ²Ð¸Ð´Ð¸Ð¼Ð¸Ð¼ Ð¼Ð°Ñ€ÐºÐµÑ€Ð¾Ð¼. Ð‡Ñ… Ð²Ð¸Ð´Ð½Ð¾ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ Ð¿Ñ–Ð´ ÑÐ²Ñ–Ñ‚Ð»Ð¾Ð¼ Ð»Ñ–Ñ…Ñ‚Ð°Ñ€Ð¸ÐºÐ°.\n\n"
        "Ð”Ñ€ÑƒÐ³Ð¸Ð¹ â€” ÑˆÑƒÐºÐ°Ñ”. Ð’Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ Ñ†ÑŽ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ ÑÑŽÐ´Ð¸, Ð² Ð±Ð¾Ñ‚. Ð Ð¿Ð¾Ñ‚Ñ–Ð¼ â€” Ð²Ð¸ÐºÐ¾Ð½ÑƒÑ” Ñ‚Ðµ, Ñ‰Ð¾ ÑÐºÐ°Ð¶Ðµ Foxie.\n\n"
        "Ð„ 20 ÐºÐ¾Ð¼Ð°Ð½Ð´. ÐÐ»Ðµ ÐºÐ¾Ð¶Ð½Ð° Ð· Ð½Ð¸Ñ… â€” Ð¿Ñ€Ð¾ Ð²Ð°Ñ. ÐŸÑ€Ð¾ Ð´Ð¾Ñ‚Ð¸Ðº, Ð´Ñ–ÑŽ, Ð¼Ð¾Ð²Ñ‡Ð°Ð½Ð½Ñ. Ð† Ð±Ð°Ð¶Ð°Ð½Ð½Ñ.\n\n"
        "ÐÐ°Ð²Ñ–Ñ‚ÑŒ ÑÐºÑ‰Ð¾ Ñƒ Ð²Ð°Ñ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ Ñ€ÑƒÑ‡ÐºÐ° Ð¹ Ñ„Ð°Ð½Ñ‚Ð°Ð·Ñ–Ñ â€” Ð³Ñ€Ð° Ð²Ð¶Ðµ Ð¿Ð¾Ñ‡Ð°Ð»Ð°ÑÑŒ.",
        reply_markup=back_menu())
    USER_STATE[message.from_user.id]["step"] = "about"

@bot.message_handler(func=lambda m: m.text == "ðŸ’¬ Ð—Ð°Ð¿Ð¸Ñ‚Ð°Ñ‚Ð¸ Foxie")
def ask_foxie(message):
    bot.send_message(message.from_user.id, "ÐÐ°Ð¿Ð¸ÑˆÐ¸ Ñ‚ÑƒÑ‚ Ð¿Ð¸Ñ‚Ð°Ð½Ð½Ñ â€” Ñ– Foxie Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–ÑÑ‚ÑŒ Ð¾ÑÐ¾Ð±Ð¸ÑÑ‚Ð¾! ðŸ¦Š", reply_markup=back_menu())
    USER_STATE[message.from_user.id]["step"] = "waiting_support"

@bot.message_handler(func=lambda m: USER_STATE.get(m.from_user.id, {}).get("step") == "waiting_support")
def send_support_message(message):
    text = f"Foxie! ÐÐ¾Ð²Ðµ Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ Ð²Ñ–Ð´ @{message.from_user.username} ({message.from_user.id}):\n\n{message.text}"
    bot.send_message(ADMIN_ID, text)
    bot.send_message(message.from_user.id, "Ð¢Ð²Ð¾Ñ” Ð¿Ð¸Ñ‚Ð°Ð½Ð½Ñ Ð½Ð°Ð´Ñ–ÑÐ»Ð°Ð½Ð¾ Foxie! ÐžÑ‡Ñ–ÐºÑƒÐ¹ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´ÑŒ Ñƒ Ñ†ÑŒÐ¾Ð¼Ñƒ Ñ‡Ð°Ñ‚Ñ– ðŸ¦Š", reply_markup=get_main_menu())
    USER_STATE[message.from_user.id]["step"] = "main_menu"

@bot.message_handler(func=lambda m: m.text == "ðŸ’³ ÐšÑƒÐ¿Ð¸Ñ‚Ð¸")
def show_shop(message):
    bot.send_message(message.chat.id,
        "ÐžÐ±ÐµÑ€Ð¸ ÑÐ²Ð¾ÑŽ Ð³Ñ€Ñƒ Foxie Code:\n\n"
        "ðŸ§¡ Digital â€” 500 Ð³Ñ€Ð½ (Ð»Ð¸ÑˆÐµ Ð³Ñ€Ð°, Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð¾Ð´Ñ€Ð°Ð·Ñƒ Ð¿Ñ–ÑÐ»Ñ Ð¾Ð¿Ð»Ð°Ñ‚Ð¸)\n"
        "ðŸ”¥ Lite Box â€” 800 Ð³Ñ€Ð½ (Ð³Ñ€Ð° + Ð¼Ð°Ñ€ÐºÐµÑ€, Ð»Ñ–Ñ…Ñ‚Ð°Ñ€Ð¸Ðº, 2 ÑˆÐ¾ÐºÐ¾Ð»Ð°Ð´ÐºÐ¸, ÑÐ²Ñ–Ñ‡ÐºÐ°, Ð»Ð¸ÑÑ‚Ñ–Ð²ÐºÐ° Ð· QR-ÐºÐ¾Ð´Ð¾Ð¼)\n"
        "Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð´Ð¾ Ð³Ñ€Ð¸ Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ”Ñ‚ÑŒÑÑ Ð¾Ð´Ñ€Ð°Ð·Ñƒ Ð¿Ñ–ÑÐ»Ñ Ð¾Ð¿Ð»Ð°Ñ‚Ð¸.\n\n"
        "ðŸŽ Ð¥Ð¾Ñ‡ÐµÑˆ Ð¿Ð¾Ð´Ð°Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ Ð³Ñ€Ñƒ Ñ–Ð½ÑˆÑ–Ð¹ Ð»ÑŽÐ´Ð¸Ð½Ñ–?",
        reply_markup=shop_menu())
    USER_STATE[message.from_user.id]["step"] = "shop"

@bot.message_handler(func=lambda m: m.text == "ðŸŽ ÐŸÐ¾Ð´Ð°Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ Ñ–Ð½ÑˆÐ¾Ð¼Ñƒ")
def present_gift(message):
    bot.send_message(message.chat.id,
        "Foxie Code â€” Ñ†Ðµ Ñ‰Ðµ Ð¹ Ð½ÐµÐ·Ð²Ð¸Ñ‡Ð½Ð¸Ð¹ Ð¿Ð¾Ð´Ð°Ñ€ÑƒÐ½Ð¾Ðº ðŸ’Œ Ð“Ñ€Ð°, ÑÐºÐ° Ð·Ð°Ð»Ð¸ÑˆÐ°Ñ”Ñ‚ÑŒÑÑ Ð² Ð¿Ð°Ð¼â€™ÑÑ‚Ñ–.\n"
        "ÐžÐ±ÐµÑ€Ð¸, ÑÐºÐ¸Ð¹ Ð²Ð°Ñ€Ñ–Ð°Ð½Ñ‚ Ñ‚Ð¸ Ñ…Ð¾Ñ‡ÐµÑˆ Ð¿Ð¾Ð´Ð°Ñ€ÑƒÐ²Ð°Ñ‚Ð¸:",
        reply_markup=gift_menu())
    USER_STATE[message.from_user.id]["step"] = "gift_choice"

@bot.message_handler(func=lambda m: m.text in [
    "ðŸŽ ÐŸÐ¾Ð´Ð°Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ Digital â€” 500 Ð³Ñ€Ð½", "ðŸŽ ÐŸÐ¾Ð´Ð°Ñ€ÑƒÐ²Ð°Ñ‚Ð¸ Lite Box â€” 800 Ð³Ñ€Ð½"])
def buy_gift(message):
    bot.send_message(message.chat.id,
        "ÐÐ°Ð¿Ð¸ÑˆÐ¸, Ð±ÑƒÐ´ÑŒ Ð»Ð°ÑÐºÐ°, Ð´Ð»Ñ ÐºÐ¾Ð³Ð¾ Ñ†ÐµÐ¹ Ð¿Ð¾Ð´Ð°Ñ€ÑƒÐ½Ð¾Ðº (Ð½Ñ–Ðº Ð°Ð±Ð¾ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ñƒ):",
        reply_markup=back_menu())
    USER_STATE[message.from_user.id]["step"] = "wait_gift_for"

@bot.message_handler(func=lambda m: USER_STATE.get(m.from_user.id, {}).get("step") == "wait_gift_for")
def get_gift_for(message):
    user_id = message.from_user.id
    gift_code = f"fox{user_id}{int(time.time())%10000}"
    GIFT_CODES[gift_code] = {"used": False, "for_id": None, "from_id": user_id}
    bot.send_message(user_id,
        f"ÐŸÑ€Ð¸Ð²Ñ–Ñ‚! Ð¢Ð¾Ð±Ñ– Ð¿Ð¾Ð´Ð°Ñ€ÑƒÐ²Ð°Ð»Ð¸ Ð³Ñ€Ñƒ Foxie Code.\n"
        f"ÐŸÑ€Ð¾ÑÑ‚Ð¾ Ð·Ð°Ð¹Ð´Ð¸ Ð² Ð±Ð¾Ñ‚ Ñ– Ð²Ð²ÐµÐ´Ð¸ Ñ†ÐµÐ¹ ÐºÐ¾Ð´:\nâ¤ï¸{gift_code}\nFoxie Ñ‡ÐµÐºÐ°Ñ” Ð½Ð° Ñ‚ÐµÐ±Ðµ!\n(ÐšÐ¾Ð´ Ð¼Ð¾Ð¶Ð½Ð° Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ñ‚Ð¸ Ð»Ð¸ÑˆÐµ Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð·.)",
        reply_markup=get_main_menu())
    start(message)

@bot.message_handler(func=lambda m: m.text == "ðŸ§¡ ÐšÑƒÐ¿Ð¸Ñ‚Ð¸ Digital")
def buy_digital(message):
    user_id = message.from_user.id
    ALLOWED_USERS.add(user_id)
    USERS_DB[user_id]["level1"] = False
    USERS_DB[user_id]["level2"] = False
    bot.send_message(user_id, "Ð”ÑÐºÑƒÑ”Ð¼Ð¾ Ð·Ð° Ð¾Ð¿Ð»Ð°Ñ‚Ñƒ ðŸ§¡\nÐ¢Ð²Ð¾Ñ Ð½Ñ–Ñ‡ â€” Ð¿Ð¾Ñ‡Ð¸Ð½Ð°Ñ”Ñ‚ÑŒÑÑ Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð·Ð°Ñ€Ð°Ð·.",
                     reply_markup=level_choose_menu())
    send_level_choose(user_id)

@bot.message_handler(func=lambda m: m.text == "ðŸ”¥ ÐšÑƒÐ¿Ð¸Ñ‚Ð¸ Lite Box")
def buy_lite_box(message):
    user_id = message.from_user.id
    ALLOWED_USERS.add(user_id)
    USERS_DB[user_id]["level1"] = False
    USERS_DB[user_id]["level2"] = False
    bot.send_message(user_id,
        "Ð”ÑÐºÑƒÑ”Ð¼Ð¾ Ð·Ð° Ð¾Ð¿Ð»Ð°Ñ‚Ñƒ! Ð¢ÐµÐ¿ÐµÑ€ Ñ‚Ð²Ð¾Ñ Ð³Ñ€Ð° Foxie Code Ð°ÐºÑ‚Ð¸Ð²Ð¾Ð²Ð°Ð½Ð°.\n\nÐ”Ð»Ñ Lite Box Ð½Ð°Ð¿Ð¸ÑˆÐ¸: ÐŸÐ†Ð‘, Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½, Ð¼Ñ–ÑÑ‚Ð¾ Ñ‚Ð° Ð²Ñ–Ð´Ð´Ñ–Ð»ÐµÐ½Ð½Ñ ÐÐ¾Ð²Ð¾Ñ— ÐŸÐ¾ÑˆÑ‚Ð¸.",
        reply_markup=level_choose_menu())
    send_level_choose(user_id)

def send_level_choose(user_id):
    bot.send_message(user_id, "ÐžÐ±ÐµÑ€Ð¸ Ñ€Ñ–Ð²ÐµÐ½ÑŒ Ð³Ñ€Ð¸:", reply_markup=level_choose_menu())
    USER_STATE[user_id]["step"] = "choose_level"

@bot.message_handler(func=lambda m: m.text in ["ðŸŸ  Ð Ñ–Ð²ÐµÐ½ÑŒ 1 (Original)", "ðŸŸ£ Ð Ñ–Ð²ÐµÐ½ÑŒ 2 (Passion)"])
def choose_level(message):
    user_id = message.from_user.id
    level = "1" if "Ð Ñ–Ð²ÐµÐ½ÑŒ 1" in message.text else "2"
    USER_STATE[user_id]["step"] = f"playing_{level}"
    USER_STATE[user_id]["level"] = level
    USER_STATE[user_id]["commands"] = []
    bot.send_message(user_id,
        "Ð“Ñ€Ð° Ð¿Ð¾Ñ‡Ð°Ð»Ð°ÑÑŒ ðŸ¦Š\n\n"
        "ÐžÐ´Ð¸Ð½ Ñ–Ð· Ð²Ð°Ñ â€” Ð¿Ð¸ÑˆÐµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸ Ð½Ð° Ñ‚Ñ–Ð»Ñ–.\nÐ”Ñ€ÑƒÐ³Ð¸Ð¹ â€” ÑˆÑƒÐºÐ°Ñ”. Ð† ÐºÐ¾Ð»Ð¸ Ð·Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ â€” Ð²Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ ÑÐ»Ð¾Ð²Ð¾ ÑÑŽÐ´Ð¸, Ð² Ð±Ð¾Ñ‚.\n"
        "Foxie Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–ÑÑ‚ÑŒâ€¦ Ð±Ð°Ð¶Ð°Ð½Ð½ÑÐ¼ ðŸ˜ˆ\n\n"
        "ÐœÐ¾Ð¶ÐµÑˆ Ñƒ Ð±ÑƒÐ´ÑŒ-ÑÐºÐ¸Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚ Ð½Ð°Ñ‚Ð¸ÑÐ½ÑƒÑ‚Ð¸ ðŸ§¡ Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð´Ð»Ñ Ð½Ð°Ð¿Ð¸ÑÑƒ, â¬…ï¸ ÐÐ°Ð·Ð°Ð´ Ð°Ð±Ð¾ â¬…ï¸ Ð“Ð¾Ð»Ð¾Ð²Ð½Ðµ Ð¼ÐµÐ½ÑŽ!",
        reply_markup=game_menu())

@bot.message_handler(func=lambda m: m.text == "ðŸ§¡ Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð´Ð»Ñ Ð½Ð°Ð¿Ð¸ÑÑƒ")
def show_commands(message):
    user_id = message.from_user.id
    level = USER_STATE.get(user_id, {}).get("level", "1")
    block = COMMANDS_LIST[level]
    lines = [f"â€¢ {cmd} â€” {place}" for cmd, place in block["words"].items()]
    bot.send_message(user_id, "ÐžÑÑŒ Ñ‚Ð²Ñ–Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº Ñ–Ð· 20 ÐºÐ¾Ð¼Ð°Ð½Ð´ ðŸ§¡\n\n" + "\n".join(lines), reply_markup=game_menu())

@bot.message_handler(func=lambda m: m.text == "ðŸŸ  ÐŸÐ¾Ñ‡Ð°Ñ‚Ð¸ Ð³Ñ€Ñƒ")
def try_start_game(message):
    user_id = message.from_user.id
    if user_id not in ALLOWED_USERS:
        bot.send_message(user_id, "Ð¦Ðµ Ð·Ð°ÐºÑ€Ð¸Ñ‚Ð° Ð³Ñ€Ð°. Ð¡Ð¿ÐµÑ€ÑˆÑƒ ÐºÑƒÐ¿Ð¸ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð°Ð±Ð¾ Ð°ÐºÑ‚Ð¸Ð²ÑƒÐ¹ Ð¿Ð¾Ð´Ð°Ñ€ÑƒÐ½ÐºÐ¾Ð²Ð¸Ð¹ ÐºÐ¾Ð´ â¤ï¸",
                         reply_markup=get_main_menu())
        return
    send_level_choose(user_id)

@bot.message_handler(func=lambda m: USER_STATE.get(m.from_user.id, {}).get("step", "").startswith("playing_"))
def process_game(message):
    user_id = message.from_user.id
    level = USER_STATE[user_id]["level"]
    cmds = COMMANDS_LIST[level]["words"]
    replies = COMMANDS_LIST[level]["replies"]
    input_word = message.text.strip().lower()
    # ÐšÐ½Ð¾Ð¿ÐºÐ¸ Ð² Ð³Ñ€Ñ–
    if message.text == "â¬…ï¸ Ð“Ð¾Ð»Ð¾Ð²Ð½Ðµ Ð¼ÐµÐ½ÑŽ":
        start(message)
        return
    if message.text == "â¬…ï¸ ÐÐ°Ð·Ð°Ð´":
        send_level_choose(user_id)
        return
    if message.text == "ðŸ§¡ Ð¡Ð¿Ð¸ÑÐ¾Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð´Ð»Ñ Ð½Ð°Ð¿Ð¸ÑÑƒ":
        show_commands(message)
        return
    # ÐŸÐ°ÑÑ…Ð°Ð»ÐºÐ¸
    if input_word in EASTER_EGGS:
        bot.send_message(user_id, EASTER_EGGS[input_word], reply_markup=game_menu())
        return
    # ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ°
    if input_word not in cmds:
        bot.send_message(user_id, "ÐŸÑ„Ñ„â€¦ Ð¢Ð°ÐºÐ¾Ñ— ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸ Ð² Ð¼ÐµÐ½Ðµ Ð½ÐµÐ¼Ð°Ñ” ðŸ¦Š Ð¡Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ Ñ‰Ðµ.", reply_markup=game_menu())
        return
    if input_word in USER_STATE[user_id]["commands"]:
        bot.send_message(user_id, "Ð¦Ðµ ÑÐ»Ð¾Ð²Ð¾ Ð²Ð¶Ðµ Ð±ÑƒÐ»Ð¾. Ð’Ð²ÐµÐ´Ð¸ Ñ–Ð½ÑˆÐµ ðŸ¦Š", reply_markup=game_menu())
        return
    USER_STATE[user_id]["commands"].append(input_word)
    bot.send_message(user_id, replies[input_word], reply_markup=game_menu())
    if len(USER_STATE[user_id]["commands"]) == 20:
        finish_game(user_id, level)
    else:
        bot.send_message(user_id, "ðŸ¦Š Ð§ÐµÐºÐ°ÑŽ Ð½Ð° Ð½Ð°ÑÑ‚ÑƒÐ¿Ð½Ðµ ÑÐ»Ð¾Ð²Ð¾â€¦", reply_markup=game_menu())

def finish_game(user_id, level):
    USERS_DB[user_id][f"level{level}"] = True
    bot.send_message(user_id, "Foxie Ð· Ð²Ð°Ð¼Ð¸ Ð¿Ñ€Ð¾Ñ‰Ð°Ñ”Ñ‚ÑŒÑÑâ€¦ Ð´Ð¾ Ð½Ð°ÑÑ‚ÑƒÐ¿Ð½Ð¾Ñ— Ð³Ñ€Ð¸ ðŸ¦Š", reply_markup=after_game_menu())
    bot.send_message(user_id, "ÐžÑ†Ñ–Ð½Ð¸ Ð³Ñ€Ñƒ Ð²Ñ–Ð´ 1 Ð´Ð¾ 5 (Ð´Ðµ 5 â€” ÑÑƒÐ¿ÐµÑ€!):")
    USER_STATE[user_id]["step"] = "rate_game"

@bot.message_handler(func=lambda m: USER_STATE.get(m.from_user.id, {}).get("step") == "rate_game")
def rate_game(message):
    rate = message.text.strip()
    if rate in ["1", "2", "3", "4", "5"]:
        bot.send_message(ADMIN_ID, f"ÐžÑ†Ñ–Ð½ÐºÐ° Ð³Ñ€Ð¸ Ð²Ñ–Ð´ @{message.from_user.username} ({message.from_user.id}): {rate}")
        bot.send_message(message.from_user.id,
            "Ð”ÑÐºÑƒÑŽ Ð·Ð° Ð¾Ñ†Ñ–Ð½ÐºÑƒ! Foxie Ñ€Ð°Ð´Ñ–Ñ” Ð²Ñ–Ð´Ð³ÑƒÐºÐ°Ð¼ ðŸ¦Š\n"
            "ÐŸÑ–Ð´Ð¿Ð¸ÑˆÐ¸ÑÑŒ Ð½Ð° Instagram â€” Ñ‚ÑƒÑ‚ Ñ‰Ðµ Ð±Ñ–Ð»ÑŒÑˆÐµ Ñ–Ð´ÐµÐ¹: https://www.instagram.com/foxie_code/",
            reply_markup=after_game_menu())
        USER_STATE[message.from_user.id]["step"] = "main_menu"
    else:
        bot.send_message(message.from_user.id, "Ð’Ð²ÐµÐ´Ð¸ Ð¾Ñ†Ñ–Ð½ÐºÑƒ Ð²Ñ–Ð´ 1 Ð´Ð¾ 5. Foxie Ð½Ðµ Ð¾Ð±Ñ€Ð°Ð·Ð¸Ñ‚ÑŒÑÑ! ðŸ˜‰")

@bot.message_handler(func=lambda m: m.text == "ðŸ” ÐŸÐ¾Ñ‡Ð°Ñ‚Ð¸ Ð·Ð½Ð¾Ð²Ñƒ")
def restart_game(message):
    send_level_choose(message.from_user.id)

@bot.message_handler(func=lambda m: m.text == "ðŸ“© ÐŸÐ¾Ð´Ñ–Ð»Ð¸Ñ‚Ð¸ÑÑ Ð· Ð´Ñ€ÑƒÐ³Ð¾Ð¼")
def share_with_friend(message):
    bot.send_message(message.chat.id,
        "ðŸ¦Š Ð¥Ð¾Ñ‡ÐµÑˆ Ð¿Ð¾Ð´Ñ–Ð»Ð¸Ñ‚Ð¸ÑÑ Foxie Ð· Ð´Ñ€ÑƒÐ³Ð¾Ð¼?\nÐÐ°Ñ‚Ð¸ÑÐ½Ð¸ Ð¹ Ð½Ð°Ð´Ñ–ÑˆÐ»Ð¸ Ð¹Ð¾Ð¼Ñƒ Ð»Ñ–Ð½Ðº Ð½Ð° Ð½Ð°ÑˆÐ¾Ð³Ð¾ Ð±Ð¾Ñ‚Ð¸ÐºÐ°:\nhttps://t.me/FoxieCodeBot\n"
        "ÐÐ»Ðµ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ Ñ‚ÑÑâ€¦ Ð³Ñ€Ð° Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ”Ñ‚ÑŒÑÑ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ Ð¿Ñ–ÑÐ»Ñ Ð¾Ð¿Ð»Ð°Ñ‚Ð¸ Ð°Ð±Ð¾ Ð· ÐºÐ¾Ð´Ð¾Ð¼-Ð¿Ð¾Ð´Ð°Ñ€ÑƒÐ½ÐºÐ¾Ð¼ ðŸ˜‰",
        reply_markup=after_game_menu()
    )

@bot.message_handler(func=lambda m: m.text == "ðŸš« Ð’Ñ–Ð´Ð¿Ð¸ÑÐ°Ñ‚Ð¸ÑÑŒ")
def unsubscribe(message):
    user_id = message.from_user.id
    if user_id in ALLOWED_USERS:
        ALLOWED_USERS.remove(user_id)
    bot.send_message(user_id, "Foxie Ð±Ñ–Ð»ÑŒÑˆÐµ Ð½Ðµ Ð±ÑƒÐ´Ðµ Ñ‚ÑƒÑ€Ð±ÑƒÐ²Ð°Ñ‚Ð¸ ðŸ¦Š ÐÐ»Ðµ Ñ‚Ð¸ Ð·Ð°Ð²Ð¶Ð´Ð¸ Ð¼Ð¾Ð¶ÐµÑˆ Ð¿Ð¾Ð²ÐµÑ€Ð½ÑƒÑ‚Ð¸ÑÑŒ Ñƒ Ð³Ñ€Ñƒ, Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð½Ð°Ð¿Ð¸ÑÐ°Ð²ÑˆÐ¸ ÑÑŽÐ´Ð¸ ðŸ’Œ", reply_markup=get_main_menu())
    USER_STATE[user_id]["step"] = "main_menu"

@bot.message_handler(func=lambda m: m.text and m.text.lower().startswith("fox"))
def enter_gift_code(message):
    user_id = message.from_user.id
    code = message.text.strip()
    if code not in GIFT_CODES:
        bot.send_message(user_id, "ÐšÐ¾Ð´ Ð½Ðµ Ð·Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾ Ð°Ð±Ð¾ Ð²Ð¶Ðµ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð¸Ð¹.", reply_markup=get_main_menu())
        return
    if GIFT_CODES[code]["used"]:
        bot.send_message(user_id, "ÐšÐ¾Ð´ Ð²Ð¶Ðµ Ð±ÑƒÐ² Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð¸Ð¹. Ð¡Ð¿Ñ€Ð¾Ð±ÑƒÐ¹ Ñ–Ð½ÑˆÐ¸Ð¹ Ð°Ð±Ð¾ ÐºÑƒÐ¿Ð¸ ÑÐ²Ð¾ÑŽ Foxie Code!",
                         reply_markup=get_main_menu())
        return
    ALLOWED_USERS.add(user_id)
    GIFT_CODES[code]["used"] = True
    GIFT_CODES[code]["for_id"] = user_id
    bot.send_message(user_id, "ÐšÐ¾Ð´ Ð°ÐºÑ‚Ð¸Ð²Ð¾Ð²Ð°Ð½Ð¾! Foxie Code Ð³Ð¾Ñ‚Ð¾Ð²Ð° ðŸ”¥\nÐŸÐ¾Ð¿ÐµÑ€ÐµÐ´Ñƒ â€” 20 ÐºÐ¾Ð¼Ð°Ð½Ð´. ÐžÐ´Ð½Ð° Ð·Ð° Ð¾Ð´Ð½Ð¾ÑŽ, Ð·Ñ€Ð¾ÑÑ‚Ð°ÑŽÑ‡Ð¸ Ð² Ð½Ð°Ð¿Ñ€ÑƒÐ·Ñ– Ð¹ Ð±Ð°Ð¶Ð°Ð½Ð½Ñ–.",
                     reply_markup=level_choose_menu())
    send_level_choose(user_id)

@bot.message_handler(func=lambda m: m.text and m.text.strip().lower() in EASTER_EGGS)
def handle_easter(message):
    bot.send_message(message.chat.id, EASTER_EGGS[message.text.strip().lower()])

@bot.message_handler(commands=["id"])
def show_id(message):
    bot.send_message(message.chat.id, f"Ð¢Ð²Ñ–Ð¹ Telegram ID: {message.from_user.id}")

# === ÐÐ´Ð¼Ñ–Ð½-ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸ ===
@bot.message_handler(commands=["add"])
def add_user(message):
    if message.from_user.id != ADMIN_ID:
        return
    parts = message.text.split()
    if len(parts) != 2:
        bot.send_message(ADMIN_ID, "Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚: /add [id]")
        return
    try:
        add_id = int(parts[1])
        ALLOWED_USERS.add(add_id)
        bot.send_message(ADMIN_ID, f"ðŸŸ¢ ÐšÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð° Ð· ID {add_id} Ð´Ð¾Ð´Ð°Ð½Ð¾ Ð´Ð¾ ÑÐ¿Ð¸ÑÐºÑƒ Ð´Ð¾Ð·Ð²Ð¾Ð»ÐµÐ½Ð¸Ñ….")
    except Exception:
        bot.send_message(ADMIN_ID, "ID Ð¼Ð°Ñ” Ð±ÑƒÑ‚Ð¸ Ñ‡Ð¸ÑÐ»Ð¾Ð¼.")

@bot.message_handler(commands=["ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°"])
def show_stats(message):
    if message.from_user.id != ADMIN_ID:
        return
    total = len(ALLOWED_USERS)
    level1 = sum(1 for u in USERS_DB if USERS_DB[u].get("level1"))
    level2 = sum(1 for u in USERS_DB if USERS_DB[u].get("level2"))
    gifts = sum(1 for c in GIFT_CODES if GIFT_CODES[c]["used"])
    text = (
        f"ðŸ¦Š Foxie Code â€” ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ°:\n"
        f"Ð“Ñ€Ð°Ð»Ð¸: {total}\n"
        f"ÐŸÑ€Ð¾Ð¹ÑˆÐ»Ð¸ Ñ€Ñ–Ð²ÐµÐ½ÑŒ 1: {level1}\n"
        f"ÐŸÑ€Ð¾Ð¹ÑˆÐ»Ð¸ Ñ€Ñ–Ð²ÐµÐ½ÑŒ 2: {level2}\n"
        f"ÐšÑƒÐ¿Ð¸Ð»Ð¸ Ð½Ð° Ð¿Ð¾Ð´Ð°Ñ€ÑƒÐ½Ð¾Ðº: {gifts}\n"
        f"Ð’ÑÑŒÐ¾Ð³Ð¾ gift-ÐºÐ¾Ð´Ñ–Ð²: {len(GIFT_CODES)}"
    )
    bot.send_message(ADMIN_ID, text)

# === Ð—Ð°Ð¿ÑƒÑÐº ===
if __name__ == "__main__":
    print("Foxie Code Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð¾ ðŸ¦Š")
    bot.infinity_polling(timeout=10, long_polling_timeout=5)
