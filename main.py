import telebot

# –¢–≤—ñ–π —Ç–æ–∫–µ–Ω
TOKEN = "8023087340:AAFRPkovu5PK9pBFVbFmo402NaahGuMaLsc"
bot = telebot.TeleBot(TOKEN)

# –°–ø–∏—Å–æ–∫ –¥–æ–∑–≤–æ–ª–µ–Ω–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
allowed_users = [572069105]  # –¢–≤—ñ–π ID

# –°–ª–æ–≤–Ω–∏–∫ –∫–æ–º–∞–Ω–¥
command_dict = {
    "touch":
    "–ù–µ –ø–∏—Ç–∞–π ‚Äî –ø—Ä–æ—Å—Ç–æ —Ç–æ—Ä–∫–Ω–∏—Å—å. –¢–∞–º, –¥–µ —Ç–æ–±—ñ —Ö–æ—á–µ—Ç—å—Å—è.",
    "moon":
    "–¢–æ—Ä–∫–Ω–∏—Å—å —Ç—ñ–ª—å–∫–∏ –Ω–æ—Å–æ–º. –í–µ–¥–∏ –ª—ñ–Ω—ñ—é –ø–æ–≤—ñ–ª—å–Ω–æ. –ì—É–±–∞–º ‚Äî –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ.",
    "kiss":
    "–¢—Ä–∏ –ø–æ—Ü—ñ–ª—É–Ω–∫–∏. –¢–∞–º, –¥–µ —è –Ω–µ —á–µ–∫–∞—é. –¢—ñ–ª—å–∫–∏ –Ω–µ –Ω–∞ –≥—É–±–∞—Ö.",
    "hot":
    "–ó—Ä–æ–±–∏ –≥–∞—Ä—è—á—ñ—à–µ. –¢–∏ –º–∞—î—à —Ç—Ä–∏ —Ä—É—Ö–∏ ‚Äî —ñ –∂–æ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–∞.",
    "fire":
    "–ó–Ω—ñ–º–∏ —â–æ—Å—å —ñ–∑ –º–µ–Ω–µ. –°–∫–∞–∂–∏: ‚Äú–ú–æ—î‚Äù. –Ü –ø—Ä–∏—Ç–∏—Å–Ω–∏ –º–µ–Ω–µ –±–ª–∏–∂—á–µ.",
    "love":
    "–¢–æ—Ä–∫–Ω–∏—Å—å —Ç–∞–∫, —â–æ–± –≤ –º–µ–Ω–µ –Ω–∞ –º–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–ø–∏–ª–æ –ø–æ–¥–∏—Ö. –û–¥–∏–Ω –¥–æ—Ç–∏–∫. –Ü –∂–æ–¥–Ω–∏—Ö –ø–æ–≤—Ç–æ—Ä—ñ–≤.",
    "yes":
    "–ó–∞–ø–∏—Ç–∞–π –º–µ–Ω–µ —Ç—Ä–∏—á—ñ –ø–æ—à–µ–ø–∫–∏: ¬´–¢–∏ —Ö–æ—á–µ—à, —â–æ–± —è‚Ä¶?¬ª –Ø–∫—â–æ —Ç—Ä–∏—á—ñ –æ—Ç—Ä–∏–º–∞—î—à ‚Äú—Ç–∞–∫‚Äù ‚Äî —Ä–æ–±–∏ —â–æ —Ö–æ—á–µ—à. –ê–ª–µ –Ω—ñ–∂–Ω–æ. –ü–æ–∫–∏ —â–æ.",
    "secret":
    "–ü–æ—Ü—ñ–ª—É–π –º–µ–Ω–µ —Ç–∞–∫, —â–æ–± —è –ø–æ—Ä—É—à–∏–ª–∞ —Ç–∏—à—É. –Ø–∫—â–æ –≤–∏–π–¥–µ ‚Äî –æ—Ç—Ä–∏–º–∞—î—à –º–æ—é —Ç–∞—î–º–Ω–∏—Ü—é. –ú–æ–∂–µ—à –∑–∞–ø–∏—Ç–∞—Ç–∏ –≤—Å–µ, —â–æ –∑–∞—Ö–æ—á–µ—à.",
    "open":
    "–°—Ç–µ–≥–Ω–æ –∑–∑–∞–¥—É. –ó–Ω—ñ–º–∏ –æ–¥–Ω—É —Ä—ñ—á. –ù–∞–∑–≤–∏ —Ü–µ ‚Äú–≤—ñ–¥–∫—Ä–∏—Ç—Ç—è–º‚Äù. –Ü –ø–æ—Ü—ñ–ª—É–π –º–µ–Ω–µ.",
    "lock":
    "–°–∫–∞–∂–∏ –º–æ—î —ñ–º‚Äô—è –ø–æ—à–µ–ø–∫–∏. –ü–æ—Ç—ñ–º –ø–æ—Ü—ñ–ª—É–π –º–µ–Ω–µ —Ç—Ä–∏—á—ñ: —è–∫ —É –ø–µ—Ä—à–∏–π –¥–µ–Ω—å, —è–∫ —É —Å–≤–æ—ó—Ö –º—Ä—ñ—è—Ö, —è–∫ —â–µ –Ω–µ —Ü—ñ–ª—É–≤–∞–≤. –Ø–∫—â–æ —è –º–æ–≤—á–∫–∏ –ø—Ä–∏–π–º—É –≤—Å—ñ —Ç—Ä–∏ ‚Äî –∑–∞–º–æ–∫ –∑–Ω—è—Ç–æ. –ü—Ä–æ—Å–∏, —á–æ–≥–æ —Ö–æ—á–µ—à.",
    "mine":
    "–û–±–≤–µ–¥–∏ –ø–∞–ª—å—Ü–µ–º. –Ü —Å–∫–∞–∂–∏, —è–∫–∞ —á–∞—Å—Ç–∏–Ω–∞ ‚Äî —Ç–≤–æ—è.",
    "blind":
    "–ó–∞–∫—Ä–∏–π –æ—á—ñ. –î–∞–π —Ä—É–∫–∞–º \"–ø–æ–±–∞—á–∏—Ç–∏\".",
    "claim":
    "–û–±—ñ–π–º–∏ –∑–∑–∞–¥—É. –ü—Ä–∏—Ç–∏—Å–Ω–∏—Å—å. –ü–æ—Ç—ñ–º –ø—Ä–æ—à–µ–ø–æ—á–∏: ¬´–¢–∏ –º–æ—è¬ª. –Ü –∑–∞–ª–∏—à –¥–æ—Ç–∏–∫, —è–∫–∏–π –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ü–µ.",
    "tease":
    "–ü—Ä–æ–≤–µ–¥–∏ —è–∑–∏–∫–æ–º –æ–¥–Ω—É –ª—ñ–Ω—ñ—é. –ü–æ—Ç—ñ–º –∑—É–ø–∏–Ω–∏—Å—å ‚Äî —ñ —Å–∫–∞–∂–∏, —á–æ–≥–æ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —Ö–æ—á–µ—à. –ê–ª–µ —Ç—ñ–ª—å–∫–∏ –æ–¥–Ω–µ —Å–ª–æ–≤–æ.",
    "wild":
    "–£—è–≤–∏, —â–æ —è —Ç–≤–æ—è –∑–¥–æ–±–∏—á. –£ —Ç–µ–±–µ 10 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–µ—Ä—à–∏–π –Ω–∞–ø–∞–¥. –ú–∞—î –±—É—Ç–∏ —Ç–∏—Ö–æ. –ê–ª–µ —Ö–∏–∂–æ. –Ø–∫—â–æ –º–æ—î —Ç—ñ–ª–æ –Ω–µ –≤—ñ–¥–≥—É–∫–Ω–µ—Ç—å—Å—è ‚Äî —Ç–µ–ø–µ—Ä —Ö–∏–∂–∞–∫–æ–º —Å—Ç–∞–Ω—É —è.",
    "slide":
    "–ü–æ–≤–∑–∏ –ø–∞–ª—å—Ü–µ–º, –Ω—ñ–±–∏ —Ç–∏ —Ä–∞–≤–ª–∏–∫ –Ω–∞ –º—ñ—Å—ñ—ó. –ê–ª–µ –ø–∞–º‚Äô—è—Ç–∞–π: —Ñ—ñ–Ω—ñ—à ‚Äî —Ü–µ –º–æ—è —É—Å–º—ñ—à–∫–∞.",
    "whisper":
    "–ù–∞—à–µ–ø—á–∏ –º–µ–Ω—ñ —â–æ—Å—å‚Ä¶ –∞–ª–µ –Ω–µ —Å–µ–∫—Å—É–∞–ª—å–Ω–µ ‚Äî —â–æ—Å—å –ø—Ä–æ –±–æ—Ä—â, –ø–æ–¥–∞—Ç–∫–∏ –∞–±–æ —Å–∞–Ω—Ç–µ—Ö–Ω—ñ–∫–∞. –ü–æ–±–∞—á–∏–º–æ, —è–∫ –¥–æ–≤–≥–æ —è –≤–∏—Ç—Ä–∏–º–∞—é —Å–µ—Ä–π–æ–∑–Ω–æ.",
    "catch":
    "–£—è–≤–∏, —â–æ –Ω–∞ –º–µ–Ω—ñ –∑–∞—Ö–æ–≤–∞–Ω–∞ —Ç–∞—î–º–Ω–∞ –∫–Ω–æ–ø–∫–∞. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî –∑–Ω–∞–π—Ç–∏ —ó—ó‚Ä¶ –∞–ª–µ –º–∞—î—à –ª–∏—à–µ 30 —Å–µ–∫—É–Ω–¥. –°—Ç–∞—Ä—Ç!",
    "freeze":
    "–¢–æ—Ä–∫–Ω–∏—Å—å ‚Äî —ñ —è –º–∞—é –∑–∞–≤–º–µ—Ä—Ç–∏. –¢–≤–æ—è —Ä–æ–ª—å ‚Äî –ø—Ä–æ–≤–æ–∫—É–≤–∞—Ç–∏. –ú–æ—è ‚Äî –Ω–µ —Ä—É—Ö–∞—Ç–∏—Å—å. –Ø–∫—â–æ —è –ø—Ä–æ–≥—Ä–∞—é ‚Äî –º–∞—î—à –ø—Ä–∞–≤–æ –Ω–∞ —â–µ –æ–¥–Ω–µ —Ç–æ—Ä–∫–∞–Ω–Ω—è –¥–µ –∑–∞–≤–≥–æ–¥–Ω–æ.",
    "hunt":
    "–Ø ‚Äî –∑–¥–æ–±–∏—á. –¢–∏ ‚Äî —Ö–∏–∂–∞–∫. –ü—ñ–¥–∫—Ä–∞–¥–∞–π—Å—è –ø–æ–≤—ñ–ª—å–Ω–æ, –º–æ–≤—á–∫–∏. –Ü —Å—Ö–æ–ø–∏ —Ç–∞–∫, —â–æ–± —è –Ω–∞–≤—ñ—Ç—å –Ω–µ –≤—Å—Ç–∏–≥–ª–∞ –∑—Ä–µ–∞–≥—É–≤–∞—Ç–∏. –¢–µ–ø–µ—Ä —è –≤ —Ç–≤–æ—ó—Ö –ª–∞–ø–∞—Ö."
}


def is_allowed(user_id):
    return user_id in allowed_users


# –ü–æ–∫–∞–∑–∞—Ç–∏ ID
@bot.message_handler(commands=['id'])
def get_user_id(message):
    bot.send_message(message.chat.id,
                     f"üîê –¢–≤—ñ–π Telegram ID: {message.from_user.id}")


# –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–º–æ–∂–Ω–∞ –æ–¥—Ä–∞–∑—É –∫—ñ–ª—å–∫–∞ ID —á–µ—Ä–µ–∑ –ø—Ä–æ–±—ñ–ª)
@bot.message_handler(commands=['add'])
def add_user(message):
    if message.from_user.id != 572069105:
        bot.send_message(message.chat.id,
                         "‚õîÔ∏è –£ —Ç–µ–±–µ –Ω–µ–º–∞—î –ø—Ä–∞–≤ –¥–æ–¥–∞–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.")
        return

    try:
        ids = message.text.split()[1:]  # –≤—Å–µ –ø—ñ—Å–ª—è /add
        if not ids:
            bot.send_message(message.chat.id,
                             "‚ùóÔ∏è –ù–∞–ø–∏—à–∏ —Ö–æ—á–∞ –± –æ–¥–∏–Ω ID –ø—ñ—Å–ª—è /add")
            return

        added = []
        already = []

        for user_id in ids:
            try:
                uid = int(user_id)
                if uid not in allowed_users:
                    allowed_users.append(uid)
                    added.append(uid)
                else:
                    already.append(uid)
            except ValueError:
                continue  # –ø—Ä–æ–ø—É—Å–∫–∞—î –Ω–µ—á–∏—Å–ª–æ–≤—ñ –∑–Ω–∞—á–µ–Ω–Ω—è

        response = ""
        if added:
            response += f"‚úÖ –î–æ–¥–∞–Ω–æ: {', '.join(map(str, added))}\n"
        if already:
            response += f"üëÄ –í–∂–µ —É —Å–ø–∏—Å–∫—É: {', '.join(map(str, already))}"

        bot.send_message(message.chat.id, response.strip())

    except Exception as e:
        bot.send_message(message.chat.id,
                         "‚ö†Ô∏è –°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—ñ–¥ —á–∞—Å –æ–±—Ä–æ–±–∫–∏ ID.")


# –í—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
@bot.message_handler(commands=['start'])
def start_message(message):
    if not is_allowed(message.from_user.id):
        bot.send_message(
            message.chat.id,
            "üëã –ü—Ä–∏–≤—ñ—Ç! –©–æ–± –ø–æ—á–∞—Ç–∏ –≥—Ä—É, –ø–æ—Ç—Ä—ñ–±–Ω–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø. –ù–∞–¥—ñ—à–ª–∏ —Å–≤—ñ–π ID —Ç–≤–æ—Ä—Ü—é –≥—Ä–∏ (–Ω–∞–ø–∏—à–∏ /id, —â–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—å —Å–≤—ñ–π)."
        )
        return

    welcome_text = (
        "üëã –ü—Ä–∏–≤—ñ—Ç, –º—ñ–π –∫–æ—Ö–∞–Ω–∏–π.\n"
        "–°—å–æ–≥–æ–¥–Ω—ñ —Ç–∏ –≥—Ä–∞—î—à –∑—ñ –º–Ω–æ—é. –ù–∞ –º–æ—î–º—É —Ç—ñ–ª—ñ —Å—Ö–æ–≤–∞–Ω—ñ –∫–æ–¥–∏ ‚Äî —Å–ª–æ–≤–∞ –∞–±–æ —á–∏—Å–ª–∞, —â–æ –ø–æ—á–∏–Ω–∞—é—Ç—å—Å—è –∑—ñ /.\n"
        "–°–≤—ñ—Ç–ª–æ–º –∑–Ω–∞–π–¥–∏ –Ω–∞–ø–∏—Å ‚Üí –≤–≤–µ–¥–∏ –∫–æ–¥ —Å—é–¥–∏ ‚Üí –≤–∏–∫–æ–Ω–∞–π –∑–∞–≤–¥–∞–Ω–Ω—è.\n"
        "–ö–æ–∂–µ–Ω –∫—Ä–æ–∫ –≤–µ–¥–µ —Ç–µ–±–µ –¥–∞–ª—ñ‚Ä¶ –¥–æ –º–µ–Ω–µ.\n"
        "–ù–µ –ø–æ—Å–ø—ñ—à–∞–π. –¢–æ—Ä–∫–∞–π—Å—è. –î–æ—Å–ª—ñ–¥–∂—É–π.\n"
        "–¶–µ –≥—Ä–∞, –≤ —è–∫—ñ–π —Ç–∏ –≤–∂–µ –≤–∏–≥—Ä–∞–≤.\n"
        "–¢–≤–æ—è –ª–∏—Å–∏—á–∫–∞ ü¶ä")
    bot.send_message(message.chat.id, welcome_text)


# –û–±—Ä–æ–±–∫–∞ –∫–æ–¥—ñ–≤
@bot.message_handler(func=lambda message: True)
def handle_text(message):
    if not is_allowed(message.from_user.id):
        bot.send_message(
            message.chat.id,
            "üîí –£ —Ç–µ–±–µ —â–µ –Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É. –ù–∞–¥—ñ—à–ª–∏ —Å–≤—ñ–π ID (–∫–æ–º–∞–Ω–¥–∞ /id) —Ç–≤–æ—Ä—Ü—é –≥—Ä–∏."
        )
        return
    user_input = message.text.lower().strip().lstrip('/')
    if user_input in command_dict:
        bot.send_message(message.chat.id, command_dict[user_input])


bot.polling()
